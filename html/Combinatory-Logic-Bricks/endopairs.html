<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory endopairs</title>
</head>


<body>
<div class="head">
<h1>Theory endopairs</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Endopairs›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="endopairs.html"><span>endopairs</span></a><span> </span><span class="comment1"><span>(* A basic theory of endopairs *)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="logic_bridge.html"><span>logic_bridge</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="endopairs.endopair_defs|attribute"><span class="entity_def" id="endopairs.endopair_defs|fact"><span>endopair_defs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="endopairs.endopair_simps|attribute"><span class="entity_def" id="endopairs.endopair_simps|fact"><span>endopair_simps</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Definitions›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Term constructor: making an endopair out of two given objects.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="endopairs.mkEndopair_def|fact"><span class="entity_def" id="endopairs.mkEndopair_def|thm"><span class="entity_def" id="endopairs.mkEndopair_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="endopairs.mkEndopair|const"><span>mkEndopair</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>EPair(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>&lt;</span></span><span>_</span><span class="keyword1"><span>,</span></span><span>_</span><span class="keyword1"><span>&gt;</span></span><span>"</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mkEndopair</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C312_comb|const"><span><span class="hidden">❙</span><b>L</b></span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span class="const"><span>If</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair_def|fact"><span>mkEndopair_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|attribute"><span class="operator"><span>endopair_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹With syntactic sugar the above definition looks like:›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Under the hood, the term constructor </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>mkEndopair›</span></span></span><span> is built in terms of definite descriptions.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="endopairs.mkEndopair_def2|fact"><span class="entity_def" id="endopairs.mkEndopair_def2|thm"><span>mkEndopair_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.The|const"><span>ι</span></a></span><span> </span><span class="bound"><span>z</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.The|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If_def|fact"><span>If_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Incidentally, (endo)pairs of booleans have an alternative, simpler representation.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="endopairs.mkEndopair_bool_simp|fact"><span class="entity_def" id="endopairs.mkEndopair_bool_simp|thm"><span>mkEndopair_bool_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Componentwise equality comparison between endopairs (added as convenient simplification rule).›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="endopairs.mkEndopair_equ_simp|fact"><span class="entity_def" id="endopairs.mkEndopair_equ_simp|thm"><span>mkEndopair_equ_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="free"><span>x<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="free"><span>x<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="free"><span>y<span class="hidden">⇩</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="free"><span>y<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>x<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y<span class="hidden">⇩</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We conveniently add the previous lemmata as a simplification rules.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair_bool_simp|fact"><span>mkEndopair_bool_simp</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_simps|attribute"><span class="operator"><span>endopair_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair_equ_simp|fact"><span>mkEndopair_equ_simp</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_simps|attribute"><span class="operator"><span>endopair_simps</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Now, observe that:›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>𝒯</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>ℱ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹This motivates the introduction of the following projection/extraction functions.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="endopairs.proj1_def|fact"><span class="entity_def" id="endopairs.proj1_def|thm"><span class="entity_def" id="endopairs.proj1_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="endopairs.proj1|const"><span>proj1</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>EPair(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>π<span class="hidden">⇩</span><sub>1</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>π<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.T1_comb|const"><span><span class="hidden">❙</span><b>T</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>𝒯</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="endopairs.proj2_def|fact"><span class="entity_def" id="endopairs.proj2_def|thm"><span class="entity_def" id="endopairs.proj2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="endopairs.proj2|const"><span>proj2</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>EPair(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>π<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>π<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.T1_comb|const"><span><span class="hidden">❙</span><b>T</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>ℱ</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.proj1_def|fact"><span>proj1_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|attribute"><span class="operator"><span>endopair_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.proj2_def|fact"><span>proj2_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|attribute"><span class="operator"><span>endopair_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj1|const"><span>π<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>𝒯</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>   </span><span class="comment1"><span>(*sanity check*)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj2|const"><span>π<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>ℱ</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>   </span><span class="comment1"><span>(*sanity check*)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The following lemmata (aka. "product laws") verify that the previous definitions work as intended.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="endopairs.proj1_simp|fact"><span class="entity_def" id="endopairs.proj1_simp|thm"><span>proj1_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj1|const"><span>π<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="endopairs.proj2_simp|fact"><span class="entity_def" id="endopairs.proj2_simp|thm"><span>proj2_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj2|const"><span>π<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="endopairs.mkEndopair_simp|fact"><span class="entity_def" id="endopairs.mkEndopair_simp|thm"><span>mkEndopair_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj1|const"><span>π<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj2|const"><span>π<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We conveniently add them as simplification rules.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.proj1_simp|fact"><span>proj1_simp</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_simps|attribute"><span class="operator"><span>endopair_simps</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.proj2_simp|fact"><span>proj2_simp</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_simps|attribute"><span class="operator"><span>endopair_simps</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair_simp|fact"><span>mkEndopair_simp</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_simps|attribute"><span class="operator"><span>endopair_simps</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Let's now add a useful "swap" (endo)operation on endopairs.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="endopairs.swap_def|fact"><span class="entity_def" id="endopairs.swap_def|thm"><span class="entity_def" id="endopairs.swap_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="endopairs.swap|const"><span>swap</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>EPair(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>swap</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">❙</span><b>B</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.swap_def|fact"><span>swap_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|attribute"><span class="operator"><span>endopair_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="endopairs.html#endopairs.swap|const"><span class="const"><span>swap</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="endopairs.html#endopairs.swap|const"><span class="const"><span>swap</span></span></a><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We conveniently prove and add some useful simplification rules.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="endopairs.swap_simp1|fact"><span class="entity_def" id="endopairs.swap_simp1|thm"><span>swap_simp1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="endopairs.html#endopairs.swap|const"><span class="const"><span>swap</span></span></a><span> </span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="endopairs.swap_simp2|fact"><span class="entity_def" id="endopairs.swap_simp2|thm"><span>swap_simp2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj2|const"><span>π<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj1|const"><span>π<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.swap|const"><span class="const"><span>swap</span></span></a><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.swap_simp1|fact"><span>swap_simp1</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_simps|attribute"><span class="operator"><span>endopair_simps</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.swap_simp2|fact"><span>swap_simp2</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_simps|attribute"><span class="operator"><span>endopair_simps</span></span></a><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Currying›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The morphisms that convert between unary operations on endopairs and (curried) binary operations.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="endopairs.curry_def|fact"><span class="entity_def" id="endopairs.curry_def|thm"><span class="entity_def" id="endopairs.curry_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="endopairs.curry|const"><span>curry</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>Op(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>EPair(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op2|type"><span>Op<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op2|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⌊</span></span><span>_</span><span class="keyword1"><span>⌋</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>curry</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span class="const"><span>mkEndopair</span></span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="endopairs.uncurry_def|fact"><span class="entity_def" id="endopairs.uncurry_def|thm"><span class="entity_def" id="endopairs.uncurry_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="endopairs.uncurry|const"><span>uncurry</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op2|type"><span>Op<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op2|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op2|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>Op(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>EPair(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EPair|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⌈</span></span><span>_</span><span class="keyword1"><span>⌉</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>uncurry</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C312_comb|const"><span><span class="hidden">❙</span><b>L</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj1|const"><span>π<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj2|const"><span>π<span class="hidden">⇩</span><sub>2</sub></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.curry_def|fact"><span>curry_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|attribute"><span class="operator"><span>endopair_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.uncurry_def|fact"><span>uncurry_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|attribute"><span class="operator"><span>endopair_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Some sanity checks:›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="endopairs.html#endopairs.curry|const"><span class="const"><span>curry</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span class="const"><span>mkEndopair</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="endopairs.html#endopairs.curry|const"><span class="const"><span>curry</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&lt;</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>,</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.mkEndopair|const"><span>&gt;</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="endopairs.html#endopairs.uncurry|const"><span class="const"><span>uncurry</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj1|const"><span>π<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj2|const"><span>π<span class="hidden">⇩</span><sub>2</sub></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="endopairs.html#endopairs.uncurry|const"><span class="const"><span>uncurry</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj1|const"><span>π<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="endopairs.html#endopairs.proj2|const"><span>π<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_defs|fact"><span class="dynamic"><span class="dynamic"><span>endopair_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Both morphisms constitute an isomorphism (we add them as simplification rules too)›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="endopairs.curry_simp1|fact"><span class="entity_def" id="endopairs.curry_simp1|thm"><span>curry_simp1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.curry|const"><span>⌊</span></a></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.uncurry|const"><span>⌈</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.uncurry|const"><span>⌉</span></a></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.curry|const"><span>⌋</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.curry_def|fact"><span>curry_def</span></a><span> </span><a class="entity_ref" href="endopairs.html#endopairs.uncurry_def|fact"><span>uncurry_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_simps|fact"><span class="dynamic"><span class="dynamic"><span>endopair_simps</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="endopairs.curry_simp2|fact"><span class="entity_def" id="endopairs.curry_simp2|thm"><span>curry_simp2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.uncurry|const"><span>⌈</span></a></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.curry|const"><span>⌊</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.curry|const"><span>⌋</span></a></span><span class="main"><a class="entity_ref" href="endopairs.html#endopairs.uncurry|const"><span>⌉</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.curry_def|fact"><span>curry_def</span></a><span> </span><a class="entity_ref" href="endopairs.html#endopairs.uncurry_def|fact"><span>uncurry_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.endopair_simps|fact"><span class="dynamic"><span class="dynamic"><span>endopair_simps</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.curry_simp1|fact"><span>curry_simp1</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_simps|attribute"><span class="operator"><span>endopair_simps</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="endopairs.html#endopairs.curry_simp2|fact"><span>curry_simp2</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="endopairs.html#endopairs.endopair_simps|attribute"><span class="operator"><span>endopair_simps</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>