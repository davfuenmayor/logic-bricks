<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory relations</title>
</head>


<body>
<div class="head">
<h1>Theory relations</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Relationsâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹A theory of (heterogeneous) relations as set-valued functions. Relations inherit the structures
 of both sets and functions and enrich them in manifold ways.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="relations.html"><span>relations</span></a><span> </span><span class="comment1"><span>(* A basic theory of relations (qua set-valued functions) *)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="func_sets.html"><span>func_sets</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="relations.rel_defs|attribute"><span class="entity_def" id="relations.rel_defs|fact"><span>rel_defs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="relations.rel_simps|attribute"><span class="entity_def" id="relations.rel_simps|fact"><span>rel_simps</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Constructing Relationsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Product and Sumâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Relations can also be constructed out of pairs of sets, via (cartesian) product and (disjoint) sum.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.product_def|fact"><span class="entity_def" id="relations.product_def|thm"><span class="entity_def" id="relations.product_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.product|const"><span>product</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>Ã—</span></span><span>"</span></span><span> 90</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(Ã—)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(âˆ§)</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.sum_def|fact"><span class="entity_def" id="relations.sum_def|thm"><span class="entity_def" id="relations.sum_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.sum|const"><span>sum</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âŠ</span></span><span>"</span></span><span> 90</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(âŠ)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>(âˆ¨)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.product_def|fact"><span>product_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.sum_def|fact"><span>sum_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.product|const"><span>Ã—</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.sum|const"><span>âŠ</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Pairs and Copairsâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹A (co)atomic-like relation can be constructed out of two elements.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.pair_def|fact"><span class="entity_def" id="relations.pair_def|thm"><span class="entity_def" id="relations.pair_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.pair|const"><span>pair</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>âŸ¨</span></span><span>_</span><span class="keyword1"><span>,</span></span><span>_</span><span class="keyword1"><span>âŸ©</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>pair</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B22_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(âˆ§)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span>â€º</span></span></span><span> </span><span class="comment1"><span>â€• â€¹relational counterpart of 'singleton'â€º</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.copair_def|fact"><span class="entity_def" id="relations.copair_def|thm"><span class="entity_def" id="relations.copair_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.copair|const"><span>copair</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>â¦‰</span></span><span>_</span><span class="keyword1"><span>,</span></span><span>_</span><span class="keyword1"><span>â¦Š</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>copair</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B22_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>(âˆ¨)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>ğ’Ÿ</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>ğ’Ÿ</span></a></span><span>â€º</span></span></span><span> </span><span class="comment1"><span>â€• â€¹relational counterpart of 'cosingleton'â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.pair_def|fact"><span>pair_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.copair_def|fact"><span>copair_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>âŸ¨</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>,</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>âŸ©</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="relations.html#relations.copair|const"><span>â¦‰</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.copair|const"><span>,</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.copair|const"><span>â¦Š</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â‰ </span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â‰ </span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span class="quoted"><span class="plain_text"><span>â€¹Recalling thatâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B22_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We have that pair and copair can be defined in terms of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>(Ã—)â€º</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>(âŠ)â€º</span></span></span><span> directly.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.pair|const"><span class="const"><span>pair</span></span></a><span>   </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.product|const"><span>(Ã—)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.copair|const"><span class="const"><span>copair</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.sum|const"><span>(âŠ)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>ğ’Ÿ</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>ğ’Ÿ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>âŸ¨</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>,</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>âŸ©</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.product|const"><span>Ã—</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="relations.html#relations.copair|const"><span>â¦‰</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.copair|const"><span>,</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.copair|const"><span>â¦Š</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>â¦ƒ</span></span><span class="free"><span>a</span></span><span class="main"><span>â¦„</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.sum|const"><span>âŠ</span></a></span><span> </span><span class="main"><span>â¦ƒ</span></span><span class="free"><span>b</span></span><span class="main"><span>â¦„</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We conveniently extrapolate the definitions of unique/singleton from sets to relations.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.uniqueR_def|fact"><span class="entity_def" id="relations.uniqueR_def|thm"><span class="entity_def" id="relations.uniqueR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.uniqueR|const"><span>uniqueR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>unique<span class="hidden">â‡§</span><sup>2</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>â€• â€¹R holds of at most one pair of elements (R may hold of none)â€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>unique<span class="hidden">â‡§</span><sup>2</sup></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>â†’</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.singletonR_def|fact"><span class="entity_def" id="relations.singletonR_def|thm"><span class="entity_def" id="relations.singletonR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.singletonR|const"><span>singletonR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>âˆƒ!<span class="hidden">â‡§</span><sup>2</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>â€• â€¹R holds of exactly one pair of elements, i.e. R is a 'singleton relation'â€º</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="main"><span>âˆƒ!<span class="hidden">â‡§</span><sup>2</sup></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>â†’</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.uniqueR_def|fact"><span>uniqueR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.singletonR_def|fact"><span>singletonR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.uniqueR_def2|fact"><span class="entity_def" id="relations.uniqueR_def2|thm"><span>uniqueR_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.uniqueR|const"><span>unique<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.NotEx2|const"><span>âˆ„<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>âˆª</span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.singletonR|const"><span>âˆƒ!<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.singletonR_def2|fact"><span class="entity_def" id="relations.singletonR_def2|thm"><span>singletonR_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="relations.html#relations.singletonR|const"><span>âˆƒ!<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.Ex2|const"><span>âˆƒ<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>âˆ©</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.uniqueR|const"><span>unique<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="comment1"><span>(*Clearly, pairs correspond one-to-one to "singleton relations" *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.pair_singletonR|fact"><span class="entity_def" id="relations.pair_singletonR|thm"><span>pair_singletonR</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="relations.html#relations.singletonR|const"><span>âˆƒ!<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>âŸ¨</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>,</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>âŸ©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.singletonR_def3|fact"><span class="entity_def" id="relations.singletonR_def3|thm"><span>singletonR_def3</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="relations.html#relations.singletonR|const"><span>âˆƒ!<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>âŸ¨</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>,</span></a></span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>âŸ©</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Boolean Algebraic Structureâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Boolean Operationsâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹As we have seen, relations correspond to indexed (families of) sets. Hence it is not surprising
 that they inherit their boolean algebraic structure. Moreover, we saw previously how boolean set 
 operations arise via "indexation" of HOL's boolean connectives (via </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>m</sub><span class="hidden">â‡©</span><sub>1</sub>â€º</span></span></span><span> combinators). The relational
 boolean operations arise analogously by "double-indexation" of HOL's counterparts (via </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>m</sub><span class="hidden">â‡©</span><sub>2</sub>â€º</span></span></span><span> combinators),
 or, equivalently, by "indexation" of the corresponding set counterparts, as shown below.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.univR_def|fact"><span class="entity_def" id="relations.univR_def|thm"><span class="entity_def" id="relations.univR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.univR|const"><span>univR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>ğ”˜<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>ğ”˜<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;01_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>0</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.universe|const"><span>ğ”˜</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹the universal relationâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.emptyR_def|fact"><span class="entity_def" id="relations.emptyR_def|thm"><span class="entity_def" id="relations.emptyR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.emptyR|const"><span>emptyR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>âˆ…<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>âˆ…<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;01_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>0</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.emptyset|const"><span>âˆ…</span></a></span><span>"</span></span></span><span>  </span><span class="comment1"><span>â€• â€¹the empty relationâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.complR_def|fact"><span class="entity_def" id="relations.complR_def|thm"><span class="entity_def" id="relations.complR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.complR|const"><span>complR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="keyword1"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;11_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span>â€º</span></span></span><span>  </span><span class="comment1"><span>â€• â€¹relation complementâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.interR_def|fact"><span class="entity_def" id="relations.interR_def|thm"><span class="entity_def" id="relations.interR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.interR|const"><span>interR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">â‡©</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âˆ©<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 54</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(âˆ©<span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>(âˆ©)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹relation intersectionâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.unionR_def|fact"><span class="entity_def" id="relations.unionR_def|thm"><span class="entity_def" id="relations.unionR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.unionR|const"><span>unionR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">â‡©</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âˆª<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 53</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(âˆª<span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>(âˆª)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹relation unionâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.diffR_def|fact"><span class="entity_def" id="relations.diffR_def|thm"><span class="entity_def" id="relations.diffR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.diffR|const"><span>diffR</span></span></span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">â‡©</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âˆ–<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(âˆ–<span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.diff|const"><span>(âˆ–)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹relation differenceâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.implR_def|fact"><span class="entity_def" id="relations.implR_def|thm"><span class="entity_def" id="relations.implR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.implR|const"><span>implR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">â‡©</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â‡’<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(â‡’<span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.impl|const"><span>(â‡’)</span></a></span><span>"</span></span></span><span>  </span><span class="comment1"><span>â€• â€¹relation implicationâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.dimplR_def|fact"><span class="entity_def" id="relations.dimplR_def|thm"><span class="entity_def" id="relations.dimplR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.dimplR|const"><span>dimplR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">â‡©</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â‡”<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(â‡”<span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.dimpl|const"><span>(â‡”)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹relation double-implicationâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.sdiffR_def|fact"><span class="entity_def" id="relations.sdiffR_def|thm"><span class="entity_def" id="relations.sdiffR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.sdiffR|const"><span>sdiffR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">â‡©</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â–³<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(â–³<span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.sdiff|const"><span>(â–³)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹relation symmetric difference (aka. xor)â€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Convenient notation for reversed implication.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.lpmiR|const"><span>lpmiR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">â‡©</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â‡<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="keyword1"><span>â‡<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.implR|const"><span>â‡’<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.univR_def|fact"><span>univR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.emptyR_def|fact"><span>emptyR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="relations.html#relations.complR_def|fact"><span>complR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.interR_def|fact"><span>interR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.unionR_def|fact"><span>unionR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="relations.html#relations.implR_def|fact"><span>implR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.dimplR_def|fact"><span>dimplR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.diffR_def|fact"><span>diffR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.sdiffR_def|fact"><span>sdiffR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We add a convenient superscript notation, as commonly found in the literature.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="relations.html#relations.complR|const"><span class="const"><span>complR</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword3"><span>)</span></span><span class="keyword1"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="relations.html#relations.complR|const"><span class="const"><span>complR</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>'(</span></span><span>_</span><span class="keyword1"><span>')<span class="hidden">â‡§</span><sup>â”€</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Point-based definitionsâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.univR|const"><span>ğ”˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;02_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>0</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>ğ’¯</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.univR|const"><span>ğ”˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>ğ’¯</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.emptyR|const"><span>âˆ…<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;02_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>0</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>â„±</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.emptyR|const"><span>âˆ…<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>â„±</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;12_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>(âˆ©<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;22_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(âˆ§)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>âˆ©<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.unionR|const"><span>(âˆª<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;22_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>(âˆ¨)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.unionR|const"><span>âˆª<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="comment1"><span>â€• â€¹... and so onâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Product and sum satisfy the corresponding DeMorgan dualities.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.prodSum_simp1|fact"><span class="entity_def" id="relations.prodSum_simp1|thm"><span>prodSum_simp1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.product|const"><span>Ã—</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.sum|const"><span>âŠ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>B</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.prodSum_simp2|fact"><span class="entity_def" id="relations.prodSum_simp2|thm"><span>prodSum_simp2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.sum|const"><span>âŠ</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.product|const"><span>Ã—</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>B</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.prodSum_simp1&apos;|fact"><span class="entity_def" id="relations.prodSum_simp1&apos;|thm"><span>prodSum_simp1'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.product|const"><span>Ã—</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.sum|const"><span>âŠ</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.prodSum_simp2&apos;|fact"><span class="entity_def" id="relations.prodSum_simp2&apos;|thm"><span>prodSum_simp2'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.sum|const"><span>âŠ</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.product|const"><span>Ã—</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Pairs and copairs are related via relation-complement as expected.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.copair_simp|fact"><span class="entity_def" id="relations.copair_simp|thm"><span>copair_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.copair|const"><span>â¦‰</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.copair|const"><span>,</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.copair|const"><span>â¦Š</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>âŸ¨</span></a></span><span class="free"><span>a</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>,</span></a></span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.pair|const"><span>âŸ©</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.prodSum_simp1|fact"><span>prodSum_simp1</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_simps|attribute"><span class="operator"><span>rel_simps</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.prodSum_simp2|fact"><span>prodSum_simp2</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_simps|attribute"><span class="operator"><span>rel_simps</span></span></a><span class="main"><span>]</span></span><span> 
        </span><a class="entity_ref" href="relations.html#relations.prodSum_simp1&apos;|fact"><span>prodSum_simp1'</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_simps|attribute"><span class="operator"><span>rel_simps</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.prodSum_simp2&apos;|fact"><span>prodSum_simp2'</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_simps|attribute"><span class="operator"><span>rel_simps</span></span></a><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Ordering Structureâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Similarly, relations also inherit the ordering structure of sets.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Analogously to the notion of "equalizer" of two functions, we have the "orderer" or two relations:â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.orderer_def|fact"><span class="entity_def" id="relations.orderer_def|thm"><span class="entity_def" id="relations.orderer_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.orderer|const"><span>orderer</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âŠ‘</span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(âŠ‘)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>(âŠ†)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.orderer_def|fact"><span>orderer_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.orderer|const"><span>âŠ‘</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We encode the notion of sub-/super-relation building upon the set counterparts.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.subrel_def|fact"><span class="entity_def" id="relations.subrel_def|thm"><span class="entity_def" id="relations.subrel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.subrel|const"><span>subrel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(âŠ†<span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftAll|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>âˆ€</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>(âŠ†)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.subrel_def|fact"><span>subrel_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.subrel_setdef|fact"><span class="entity_def" id="relations.subrel_setdef|thm"><span>subrel_setdef</span></span></span><span class="main"><span>:</span></span><span>   </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>â†’</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.All2|const"><span>âˆ€<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.implR|const"><span>â‡’<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.subrel_def2|fact"><span class="entity_def" id="relations.subrel_def2|thm"><span>subrel_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>(âŠ†<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.orderer|const"><span>(âŠ‘)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.subrel_reldef|fact"><span class="entity_def" id="relations.subrel_reldef|thm"><span>subrel_reldef</span></span></span><span class="main"><span>:</span></span><span>   </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>(âŠ†<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.All2|const"><span>âˆ€<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.implR|const"><span>(â‡’<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.superrel|const"><span>superrel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âŠ‡<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
   </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="keyword1"><span>âŠ‡<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The "power-relation" operation corresponds to the (partial) application of superrel.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.powerrel|const"><span>powerrel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>â„˜<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>â„˜<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.superrel|const"><span>(âŠ‡<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.powerrel|const"><span>â„˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>B</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>B</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Alternative characterizations of the sub/super-rel orderings in terms of fixed-points.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.subrel_defFP|fact"><span class="entity_def" id="relations.subrel_defFP|thm"><span>subrel_defFP</span></span></span><span class="main"><span>:</span></span><span>   </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>(âŠ†<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.unionR|const"><span>(âˆª<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.superrel_defFP|fact"><span class="entity_def" id="relations.superrel_defFP|thm"><span>superrel_defFP</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.superrel|const"><span>(âŠ‡<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>(âˆ©<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.unionR|const"><span>âˆª<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.superrel|const"><span>âŠ‡<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>âˆ©<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Sub-relation is antisymmetricâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.subrel_antisym|fact"><span class="entity_def" id="relations.subrel_antisym|thm"><span>subrel_antisym</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.superrel|const"><span>âŠ‡<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Two relations are said to "overlap" (or "intersect") if their intersection is non-emptyâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.overlapR_def|fact"><span class="entity_def" id="relations.overlapR_def|thm"><span class="entity_def" id="relations.overlapR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.overlapR|const"><span>overlapR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âŠ“<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 52</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(âŠ“<span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftEx|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>âˆƒ</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(âŠ“)</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Dually, two relations form a "cover" if every pair belongs to one or the other.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.coverR_def|fact"><span class="entity_def" id="relations.coverR_def|thm"><span class="entity_def" id="relations.coverR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.coverR|const"><span>coverR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âŠ”<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 53</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(âŠ”<span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftAll|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>âˆ€</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.cover|const"><span>(âŠ”)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.overlapR_def|fact"><span>overlapR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.coverR_def|fact"><span>coverR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Convenient notation: Two relations can also be said to be "incompatible" analogously to sets.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.incompatR|const"><span>incompatR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âŠ¥<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 52</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(âŠ¥<span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.NotEx2|const"><span>âˆ„<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>(âˆ©<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.coverR_reldef|fact"><span class="entity_def" id="relations.coverR_reldef|thm"><span>coverR_reldef</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.coverR|const"><span>(âŠ”<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.All2|const"><span>âˆ€<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.unionR|const"><span>(âˆª<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.overlapR_reldef|fact"><span class="entity_def" id="relations.overlapR_reldef|thm"><span>overlapR_reldef</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.overlapR|const"><span>(âŠ“<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.Ex2|const"><span>âˆƒ<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>(âˆ©<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.coverR|const"><span>âŠ”<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.All2|const"><span>âˆ€<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.unionR|const"><span>âˆª<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.overlapR|const"><span>âŠ“<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.Ex2|const"><span>âˆƒ<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>âˆ©<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.incompatR|const"><span>âŠ¥<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.NotEx2|const"><span>âˆ„<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>âˆ©<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Infinitary Operationsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We can also generalize union and intersection to the infinitary case.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.biginterR_def|fact"><span class="entity_def" id="relations.biginterR_def|thm"><span class="entity_def" id="relations.biginterR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.biginterR|const"><span>biginterR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOpG|type"><span>EOp<span class="hidden">â‡©</span><sub>G</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOpG|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>â‹‚<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>â‹‚<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B10_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.T1_comb|const"><span><span class="hidden">â™</span><b>T</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.bigunionR_def|fact"><span class="entity_def" id="relations.bigunionR_def|thm"><span class="entity_def" id="relations.bigunionR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.bigunionR|const"><span>bigunionR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOpG|type"><span>EOp<span class="hidden">â‡©</span><sub>G</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOpG|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B10_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.T1_comb|const"><span><span class="hidden">â™</span><b>T</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.biginterR_def|fact"><span>biginterR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.bigunionR_def|fact"><span>bigunionR_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.biginterR|const"><span>â‹‚<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="free"><span>S</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>R</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigunionR|const"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="free"><span>S</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>R</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Alternative definitions in terms of quantifiers directly.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.biginterR_def2|fact"><span class="entity_def" id="relations.biginterR_def2|thm"><span>biginterR_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.biginterR|const"><span>â‹‚<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>R</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>â†’</span></a></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.bigunionR_def2|fact"><span class="entity_def" id="relations.bigunionR_def2|thm"><span>bigunionR_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigunionR|const"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>R</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We say of a set of relations that it "overlaps" (or "intersects") if there exists a shared pair.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.bigoverlapR|const"><span>bigoverlapR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>â¨…<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>â¨…<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.Ex2|const"><span>âˆƒ<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.biginterR|const"><span>â‹‚<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Dually, a set of relations forms a "cover" if every pair is contained in at least one of the relations.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.bigcoverR|const"><span>bigcoverR</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>â¨†<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>â¨†<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.All2|const"><span>âˆ€<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigunionR|const"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigoverlapR|const"><span>â¨…<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.Ex2|const"><span>âˆƒ<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.biginterR|const"><span>â‹‚<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigcoverR|const"><span>â¨†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.All2|const"><span>âˆ€<span class="hidden">â‡§</span><sup>2</sup></span></a></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigunionR|const"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Function-like Structure Iâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We have seen the shared (boolean) algebraic structure between sets and relations. 
 We now explore their shared structure with functions.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We start by noting that, given a relation </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Râ€º</span></span></span><span> of type </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Rel('a,'b)â€º</span></span></span><span>, we refer to the semantic domain of 
 type </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>'aâ€º</span></span></span><span> as R's "source" domain, which is identical to R's domain when seen as a (set-valued) function. 
 Analogously, we refer to the semantic domain for type </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>'bâ€º</span></span></span><span> as R's "target" domain, which is in fact
 different from its codomain when seen as a (set-valued) function (corresponding to the type </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>'b â‡’ oâ€º</span></span></span><span>).â€º</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Range and Cylindrificationâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We define the left- (right-) range of a relation as the set of those objects in the source (target)
 domain that reach to (are reached by) some element in the target (source) domain.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.leftRange_def|fact"><span class="entity_def" id="relations.leftRange_def|thm"><span class="entity_def" id="relations.leftRange_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.leftRange|const"><span>leftRange</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>leftRange</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">â™</span><b>A</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.rightRange_def|fact"><span class="entity_def" id="relations.rightRange_def|thm"><span class="entity_def" id="relations.rightRange_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rightRange|const"><span>rightRange</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rightRange</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftRange|const"><span class="const"><span>leftRange</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftRange_def|fact"><span>leftRange_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightRange|const"><span class="const"><span>rightRange</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightRange_def|fact"><span>rightRange_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Dually, the left- (right-) dual-range of a relation is the set of those objects in the source (target)
 domain that reach to (are reached by) all elements in the target (source) domain.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.leftDualRange_def|fact"><span class="entity_def" id="relations.leftDualRange_def|thm"><span class="entity_def" id="relations.leftDualRange_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.leftDualRange|const"><span>leftDualRange</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>leftDualRange</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">â™</span><b>A</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.rightDualRange_def|fact"><span class="entity_def" id="relations.rightDualRange_def|thm"><span class="entity_def" id="relations.rightDualRange_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rightDualRange|const"><span>rightDualRange</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rightDualRange</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftDualRange|const"><span class="const"><span>leftDualRange</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftDualRange_def|fact"><span>leftDualRange_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightDualRange|const"><span class="const"><span>rightDualRange</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightDualRange_def|fact"><span>rightDualRange_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftRange_def|fact"><span>leftRange_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightRange_def|fact"><span>rightRange_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="relations.html#relations.leftDualRange_def|fact"><span>leftDualRange_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightDualRange_def|fact"><span>rightDualRange_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Both pairs of definitions are "dual" wrt. complement.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightDualRange|const"><span class="const"><span>rightDualRange</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.rightRange|const"><span class="const"><span>rightRange</span></span></a><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftDualRange|const"><span class="const"><span>leftDualRange</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.leftRange|const"><span class="const"><span>leftRange</span></span></a><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹For the left we have in fact that ranges are obtained directly by composition with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>âˆƒâ€º</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>âˆ€â€º</span></span></span><span>.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftRange_def2|fact"><span class="entity_def" id="relations.leftRange_def2|thm"><span>leftRange_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftRange|const"><span class="const"><span>leftRange</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftDualRange_def2|fact"><span class="entity_def" id="relations.leftDualRange_def2|thm"><span>leftDualRange_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftDualRange|const"><span class="const"><span>leftDualRange</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The operations below perform what is known as "cylindrification" in the literature on relation algebra.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.leftCylinder_def|fact"><span class="entity_def" id="relations.leftCylinder_def|thm"><span class="entity_def" id="relations.leftCylinder_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.leftCylinder|const"><span>leftCylinder</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>leftCylinder</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.K21_comb|const"><span><span class="hidden">â™</span><b>K</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.rightCylinder_def|fact"><span class="entity_def" id="relations.rightCylinder_def|thm"><span class="entity_def" id="relations.rightCylinder_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rightCylinder|const"><span>rightCylinder</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rightCylinder</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.K21_comb|const"><span><span class="hidden">â™</span><b>K</b></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftCylinder_def|fact"><span>leftCylinder_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightCylinder_def|fact"><span>rightCylinder_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftCylinder|const"><span class="const"><span>leftCylinder</span></span></a><span>  </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightCylinder|const"><span class="const"><span>rightCylinder</span></span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Alternative formulation in terms of cartesian product.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftCylinder_def2|fact"><span class="entity_def" id="relations.leftCylinder_def2|thm"><span>leftCylinder_def2</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftCylinder|const"><span class="const"><span>leftCylinder</span></span></a><span>  </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.universe|const"><span>ğ”˜</span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.product|const"><span>Ã—</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightCylinder_def2|fact"><span class="entity_def" id="relations.rightCylinder_def2|thm"><span>rightCylinder_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightCylinder|const"><span class="const"><span>rightCylinder</span></span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.product|const"><span>Ã—</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.universe|const"><span>ğ”˜</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹They act inverse to (right and left) range by transforming sets into (left and right-ideal) relations.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightRange|const"><span class="const"><span>rightRange</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.leftCylinder|const"><span class="const"><span>leftCylinder</span></span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftRange|const"><span class="const"><span>leftRange</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.rightCylinder|const"><span class="const"><span>rightCylinder</span></span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Also note that:â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rightCylinder|const"><span class="const"><span>rightCylinder</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.leftRange|const"><span class="const"><span>leftRange</span></span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.leftCylinder|const"><span class="const"><span>leftCylinder</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.rightRange|const"><span class="const"><span>rightRange</span></span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>proposition</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightCylinder|const"><span class="const"><span>rightCylinder</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.leftRange|const"><span class="const"><span>leftRange</span></span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span> </span><span class="comment1"><span>â€• â€¹countermodel foundâ€º</span></span><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proposition</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftCylinder|const"><span class="const"><span>leftCylinder</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.rightRange|const"><span class="const"><span>rightRange</span></span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span> </span><span class="comment1"><span>â€• â€¹countermodel foundâ€º</span></span><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Source and target restrictions (as relation-operations) can be encoded in terms of cylindrification.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.sourceRestriction_def|fact"><span class="entity_def" id="relations.sourceRestriction_def|thm"><span class="entity_def" id="relations.sourceRestriction_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.sourceRestriction|const"><span>sourceRestriction</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>â‡ƒ</span></span><span>_"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>sourceRestriction</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>(âˆ©<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rightCylinder|const"><span class="const"><span>rightCylinder</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">â™</span><b>I</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.targetRestriction_def|fact"><span class="entity_def" id="relations.targetRestriction_def|thm"><span class="entity_def" id="relations.targetRestriction_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.targetRestriction|const"><span>targetRestriction</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>â‡‚</span></span><span>_"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>targetRestriction</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>(âˆ©<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.leftCylinder|const"><span class="const"><span>leftCylinder</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">â™</span><b>I</b></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.sourceRestriction_def|fact"><span>sourceRestriction_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.targetRestriction_def|fact"><span>targetRestriction_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.sourceRestriction|const"><span>â‡ƒ</span></a></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rightCylinder|const"><span class="const"><span>rightCylinder</span></span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>âˆ©<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.targetRestriction|const"><span>â‡‚</span></a></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.leftCylinder|const"><span class="const"><span>leftCylinder</span></span></a><span>  </span><span class="free"><span>B</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>âˆ©<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.sourceRestriction|const"><span>â‡ƒ</span></a></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.targetRestriction|const"><span>â‡‚</span></a></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Uniqueness and Determinismâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹By composition with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>uniqueâ€º</span></span></span><span>, we obtain the set of deterministic (or "univalent") elements.
 They get assigned at most one value under the relation (which then behaves deterministically on them)â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.deterministic_def|fact"><span class="entity_def" id="relations.deterministic_def|thm"><span class="entity_def" id="relations.deterministic_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.deterministic|const"><span>deterministic</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>deterministic</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.unique|const"><span class="const"><span>unique</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Also, by composition with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>âˆƒ!â€º</span></span></span><span>, we obtain the set of total(ly) deterministic elements. 
 They get assigned precisely one value under the relation (which then behaves as a function on them)â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.totalDeterministic_def|fact"><span class="entity_def" id="relations.totalDeterministic_def|thm"><span class="entity_def" id="relations.totalDeterministic_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.totalDeterministic|const"><span>totalDeterministic</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>totalDeterministic</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.singleton|const"><span>âˆƒ!</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.deterministic_def|fact"><span>deterministic_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.totalDeterministic_def|fact"><span>totalDeterministic_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.totalDeterministic_def2|fact"><span class="entity_def" id="relations.totalDeterministic_def2|thm"><span>totalDeterministic_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalDeterministic|const"><span class="const"><span>totalDeterministic</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.deterministic|const"><span class="const"><span>deterministic</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>âˆ©</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.leftRange|const"><span class="const"><span>leftRange</span></span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Right- resp. left-unique relations; aka. univalent/(partial-)functional resp. injective relations.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.rightUnique_def|fact"><span class="entity_def" id="relations.rightUnique_def|thm"><span class="entity_def" id="relations.rightUnique_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rightUnique|const"><span>rightUnique</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rightUnique</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.deterministic|const"><span class="const"><span>deterministic</span></span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.leftUnique_def|fact"><span class="entity_def" id="relations.leftUnique_def|thm"><span class="entity_def" id="relations.leftUnique_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.leftUnique|const"><span>leftUnique</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>leftUnique</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.deterministic|const"><span class="const"><span>deterministic</span></span></a><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightUnique_def|fact"><span>rightUnique_def</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftUnique_def|fact"><span>leftUnique_def</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Further names for special kinds of relations, also common in the literature.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span>   </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="relations.one_to_one|const"><span>one_to_one</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span>  </span><a class="entity_ref" href="relations.html#relations.leftUnique|const"><span class="const"><span>leftUnique</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span>  </span><a class="entity_ref" href="relations.html#relations.rightUnique|const"><span class="const"><span>rightUnique</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹injective and functionalâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="relations.one_to_many|const"><span>one_to_many</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span>  </span><a class="entity_ref" href="relations.html#relations.leftUnique|const"><span class="const"><span>leftUnique</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><a class="entity_ref" href="relations.html#relations.rightUnique|const"><span class="const"><span>rightUnique</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹injective and not functionalâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>" </span><span class="free"><span class="entity_def" id="relations.many_to_one|const"><span>many_to_one</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><a class="entity_ref" href="relations.html#relations.leftUnique|const"><span class="const"><span>leftUnique</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span>  </span><a class="entity_ref" href="relations.html#relations.rightUnique|const"><span class="const"><span>rightUnique</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹functional and not injectiveâ€º</span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="relations.many_to_many|const"><span>many_to_many</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><a class="entity_ref" href="relations.html#relations.leftUnique|const"><span class="const"><span>leftUnique</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><a class="entity_ref" href="relations.html#relations.rightUnique|const"><span class="const"><span>rightUnique</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹neither injective nor functionalâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Pairs are both right-unique and left-unique, i.e. one-to-one.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.singletonR|const"><span class="const"><span>singletonR</span></span></a><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.one_to_one|const"><span class="const"><span>one_to_one</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>proposition</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.one_to_one|const"><span class="const"><span>one_to_one</span></span></a><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.singletonR|const"><span class="const"><span>singletonR</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span> </span><span class="comment1"><span>â€• â€¹counterexample: e.g. empty relationâ€º</span></span><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In fact, any relation can also be generated by its right- resp. left-unique subrelations.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> rightUnique_gen</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigunionR|const"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.powerrel|const"><span>â„˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>âˆ©</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rightUnique|const"><span class="const"><span>rightUnique</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹proof by external proversâ€º</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.bigunionR_def2|fact"><span>bigunionR_def2</span></a><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span> </span><span class="comment1"><span>(*TODO*)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> leftUnique_gen</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigunionR|const"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.powerrel|const"><span>â„˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>âˆ©</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.leftUnique|const"><span class="const"><span>leftUnique</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>  </span><span class="comment1"><span>â€• â€¹proof by external proversâ€º</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.bigunionR_def2|fact"><span>bigunionR_def2</span></a><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span> </span><span class="comment1"><span>(*TODO*)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Totalityâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Right- resp. left-unique relations; aka. surjective resp. total/serial/multi-functional relations.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.rightTotal_def|fact"><span class="entity_def" id="relations.rightTotal_def|thm"><span class="entity_def" id="relations.rightTotal_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rightTotal|const"><span>rightTotal</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rightTotal</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rightRange|const"><span class="const"><span>rightRange</span></span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.leftTotal_def|fact"><span class="entity_def" id="relations.leftTotal_def|thm"><span class="entity_def" id="relations.leftTotal_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.leftTotal|const"><span>leftTotal</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>leftTotal</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.leftRange|const"><span class="const"><span>leftRange</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightTotal_def|fact"><span>rightTotal_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftTotal_def|fact"><span>leftTotal_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹A relation that relates each element in its source to precisely one element in its target 
 corresponds to a (total) function. They can also be characterized as being both total and functional
 (i.e. left-total and right-unique) relations.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.totalFunction_def|fact"><span class="entity_def" id="relations.totalFunction_def|thm"><span class="entity_def" id="relations.totalFunction_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.totalFunction|const"><span>totalFunction</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>totalFunction</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.totalDeterministic|const"><span class="const"><span>totalDeterministic</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.totalFunction_def|fact"><span>totalFunction_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.totalFunction_def2|fact"><span class="entity_def" id="relations.totalFunction_def2|thm"><span>totalFunction_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.leftTotal|const"><span class="const"><span>leftTotal</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rightUnique|const"><span class="const"><span>rightUnique</span></span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The inverse of a function (qua relation) is always left-unique and right-total.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftUnique|const"><span class="const"><span>leftUnique</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>Â¯</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightTotal|const"><span class="const"><span>rightTotal</span></span></a><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>Â¯</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Transformations between Relations and (Sets of) Functionsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹From (Sets of) Functions to Relationsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹A given function can be disguised as a relation.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.asRel_def|fact"><span class="entity_def" id="relations.asRel_def|thm"><span class="entity_def" id="relations.asRel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.asRel|const"><span>asRel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>asRel</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>asRel</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.asRel_def|fact"><span>asRel_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Alternative characterization:â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.asRel_def2|fact"><span class="entity_def" id="relations.asRel_def2|thm"><span>asRel_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>Â¯</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.asRel_def2|fact"><span>asRel_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Relations corresponding to lifted functions are always left-total and right-unique (i.e. functions).â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹A given set of functions can be transformed (or "aggregated") into a relation.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.intoRel_def|fact"><span class="entity_def" id="relations.intoRel_def|thm"><span class="entity_def" id="relations.intoRel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.intoRel|const"><span>intoRel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>intoRel</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>intoRel</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.T1_comb|const"><span><span class="hidden">â™</span><b>T</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.intoRel_def|fact"><span>intoRel_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>S</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.T1_comb|const"><span><span class="hidden">â™</span><b>T</b></span></a></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>S</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Alternative characterization (in terms of relational bigunion):â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.intoRel_def2|fact"><span class="entity_def" id="relations.intoRel_def2|thm"><span>intoRel_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigunionR|const"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigunionR|const"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.intoRel_def2|fact"><span>intoRel_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹From Relations to (Sets of) Functionsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹A given relation can be disguised as a function (and go unnoticed under certain circumstances).â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.asFun_def|fact"><span class="entity_def" id="relations.asFun_def|thm"><span class="entity_def" id="relations.asFun_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.asFun|const"><span>asFun</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>asFun</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>asFun</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>Îµ</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.asFun_def|fact"><span>asFun_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>Îµ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>Îµ</span></a></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>Îµ</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.Eps|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.asFun_def2|fact"><span class="entity_def" id="relations.asFun_def2|thm"><span>asFun_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.The|const"><span>Î¹</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹alternative definition for total functionsâ€º</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Uniq_I|fact"><span>Uniq_I</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI|fact"><span>someI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.the1_equality&apos;|fact"><span>the1_equality'</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Transforming (or 'decomposing') a given relation into a set of functions.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.intoFunSet_def|fact"><span class="entity_def" id="relations.intoFunSet_def|thm"><span class="entity_def" id="relations.intoFunSet_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.intoFunSet|const"><span>intoFunSet</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>intoFunSet</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>intoFunSet</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>(âŠ†<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.intoFunSet_def|fact"><span>intoFunSet_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoFunSet|const"><span>intoFunSet</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoFunSet|const"><span>intoFunSet</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>â†’</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Another perspective:â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.intoFunSet_def2|fact"><span class="entity_def" id="relations.intoFunSet_def2|thm"><span>intoFunSet_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoFunSet|const"><span>intoFunSet</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.powerrel|const"><span>â„˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">â™</span><b>I</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Back-and-Forth Translation Conditionsâ€º</span></span></span><span> </span><span class="comment1"><span>(*TODO: make simplification rules out of this*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Disguising a function as a relation, and back as a function, gives back the original function.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.funRel_trans|fact"><span class="entity_def" id="relations.funRel_trans|thm"><span>funRel_trans</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹However, disguising a relation as a function, and back as a relation, does not give anything recognizable.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proposition</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span> </span><span class="comment1"><span>â€• â€¹countermodel foundâ€º</span></span><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In case of left-total relations, what we get back is a strict subrelation.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relFun_trans1|fact"><span class="entity_def" id="relations.relFun_trans1|thm"><span>relFun_trans1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftTotal|const"><span class="const"><span>leftTotal</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI|fact"><span>someI</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proposition</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftTotal|const"><span class="const"><span>leftTotal</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span> </span><span class="comment1"><span>â€• â€¹countermodel foundâ€º</span></span><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In case of right-unique relations, what we get back is a strict superrelation.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relFun_trans2|fact"><span class="entity_def" id="relations.relFun_trans2|thm"><span>relFun_trans2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightUnique|const"><span class="const"><span>rightUnique</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>proposition</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightUnique|const"><span class="const"><span>rightUnique</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span> </span><span class="comment1"><span>â€• â€¹countermodel foundâ€º</span></span><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Indeed, we get back the original relation when it is a total-function.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relFun_trans|fact"><span class="entity_def" id="relations.relFun_trans|thm"><span>relFun_trans</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.asFun_def2|fact"><span>asFun_def2</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.the_equality|fact"><span>the_equality</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Transforming a set of functions into a relation, and back to a set of functions, gives a strict superset.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.funsetRel_trans1|fact"><span class="entity_def" id="relations.funsetRel_trans1|thm"><span>funsetRel_trans1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoFunSet|const"><span>intoFunSet</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>proposition</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoFunSet|const"><span>intoFunSet</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span> </span><span class="comment1"><span>â€• â€¹countermodel foundâ€º</span></span><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We get the original set in those cases where it corresponds already to a transformed relation.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.funsetRel_trans2|fact"><span class="entity_def" id="relations.funsetRel_trans2|thm"><span>funsetRel_trans2</span></span></span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let|const"><span>let</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoFunSet|const"><span>intoFunSet</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let|const"><span>in</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoFunSet|const"><span>intoFunSet</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><span class="bound"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Transforming a relation into a set of functions, and back to a relation, gives a strict subrelation.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relFunSet_trans1|fact"><span class="entity_def" id="relations.relFunSet_trans1|thm"><span>relFunSet_trans1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoFunSet|const"><span>intoFunSet</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>proposition</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoFunSet|const"><span>intoFunSet</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span> </span><span class="comment1"><span>â€• â€¹countermodel foundâ€º</span></span><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In fact, we get the original relation in case it is left-total.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftTotal_auxsimp|fact"><span class="entity_def" id="relations.leftTotal_auxsimp|thm"><span>leftTotal_auxsimp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftTotal|const"><span class="const"><span>leftTotal</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let|const"><span>let</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.update|const"><span>[</span></a></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.update|const"><span>â†¦</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.update|const"><span>]</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let|const"><span>in</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.some_eq_imp|fact"><span>some_eq_imp</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relFunSet_trans2|fact"><span class="entity_def" id="relations.relFunSet_trans2|thm"><span>relFunSet_trans2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftTotal|const"><span class="const"><span>leftTotal</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoFunSet|const"><span>intoFunSet</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.subrel_def|fact"><span>subrel_def</span></a><span> </span><a class="entity_ref" href="relations.html#relations.orderer_def|fact"><span>orderer_def</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.intoRel_def|fact"><span>intoRel_def</span></a><span> </span><a class="entity_ref" href="relations.html#relations.intoFunSet_def|fact"><span>intoFunSet_def</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.leftTotal_auxsimp|fact"><span>leftTotal_auxsimp</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relFunSet_simp|fact"><span class="entity_def" id="relations.relFunSet_simp|thm"><span>relFunSet_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftTotal|const"><span class="const"><span>leftTotal</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoFunSet|const"><span>intoFunSet</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.relFunSet_trans1|fact"><span>relFunSet_trans1</span></a><span> </span><a class="entity_ref" href="relations.html#relations.relFunSet_trans2|fact"><span>relFunSet_trans2</span></a><span> </span><a class="entity_ref" href="relations.html#relations.subrel_antisym|fact"><span>subrel_antisym</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Transpose and Cotransposeâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Relations come with two further idiosyncratic unary operations.
 The first one is transposition (aka. "converse" or "reverse"), which naturally arises by seeing
 relations as binary operations (with boolean codomain), and corresponds to the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span><span class="hidden">â™</span><b>C</b>â€º</span></span></span><span> combinator.
 The second one, which we call "cotransposition", corresponds to the transpose/converse of the 
 complement (which is in fact identical to the complement of the transpose).â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.transpose_def|fact"><span class="entity_def" id="relations.transpose_def|thm"><span class="entity_def" id="relations.transpose_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.transpose|const"><span>transpose</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>âŒ£</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>âŒ£</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.cotranspose_def|fact"><span class="entity_def" id="relations.cotranspose_def|thm"><span class="entity_def" id="relations.cotranspose_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.cotranspose|const"><span>cotranspose</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>âˆ¼</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>âˆ¼</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.transpose_def|fact"><span>transpose_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.cotranspose_def|fact"><span>cotranspose_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Most of the time we will employ the following superscript notation (analogously to complement).â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="relations.html#relations.transpose|const"><span class="const"><span>transpose</span></span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword3"><span>)</span></span><span class="keyword1"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span class="const"><span>cotranspose</span></span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword3"><span>)</span></span><span class="keyword1"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span> 
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="relations.html#relations.transpose|const"><span class="const"><span>transpose</span></span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>'(</span></span><span>_</span><span class="keyword1"><span>')<span class="hidden">â‡§</span><sup>âŒ£</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span class="const"><span>cotranspose</span></span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>'(</span></span><span>_</span><span class="keyword1"><span>')<span class="hidden">â‡§</span><sup>âˆ¼</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.transpose_involutive|fact"><span class="entity_def" id="relations.transpose_involutive|thm"><span>transpose_involutive</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.cotranspose_involutive|fact"><span class="entity_def" id="relations.cotranspose_involutive|thm"><span>cotranspose_involutive</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.complement_involutive|fact"><span class="entity_def" id="relations.complement_involutive|thm"><span>complement_involutive</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Clearly, (co)transposition (co)distributes over union and intersection.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.unionR|const"><span>âˆª<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.unionR|const"><span>âˆª<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>âˆ©<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>âˆ©<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.unionR|const"><span>âˆª<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>âˆ©<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.interR|const"><span>âˆ©<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.unionR|const"><span>âˆª<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The inverse of a function corresponds to its converse when seen as a relation.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â€¹</span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>Â¯</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span>â€º</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Relational "lifting" commutes with transpose.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relLiftEx_trans|fact"><span class="entity_def" id="relations.relLiftEx_trans|thm"><span>relLiftEx_trans</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftEx|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>âˆƒ</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftEx|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>âˆƒ</sub></span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relLiftAll_trans|fact"><span class="entity_def" id="relations.relLiftAll_trans|thm"><span>relLiftAll_trans</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftAll|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>âˆ€</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftAll|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>âˆ€</sub></span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹And "dually commutes" with co-transpose.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relLiftEx_cotrans|fact"><span class="entity_def" id="relations.relLiftEx_cotrans|thm"><span>relLiftEx_cotrans</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftEx|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>âˆƒ</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftAll|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>âˆ€</sub></span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relLiftAll_cotrans|fact"><span class="entity_def" id="relations.relLiftAll_cotrans|thm"><span>relLiftAll_cotrans</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftAll|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>âˆ€</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftEx|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>âˆƒ</sub></span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Using transpose, we can encode a convenient notion of "interpolants" (wrt. two relations) as the set of
 elements that "bridge" between two given points (belonging each to one of the relations), as follows.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.interpolants_def|fact"><span class="entity_def" id="relations.interpolants_def|thm"><span class="entity_def" id="relations.interpolants_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.interpolants|const"><span>interpolants</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>interpolants</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B22_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>(âˆ©)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">â™</span><b>A</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span>âŒ£</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹And, since we are at it, we add a convenient dual notion.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.dualInterpolants_def|fact"><span class="entity_def" id="relations.dualInterpolants_def|thm"><span class="entity_def" id="relations.dualInterpolants_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.dualInterpolants|const"><span>dualInterpolants</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>dualInterpolants</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B22_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>(âˆª)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">â™</span><b>A</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span>âŒ£</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.interpolants_def|fact"><span>interpolants_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.dualInterpolants_def|fact"><span>dualInterpolants_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.interpolants|const"><span class="const"><span>interpolants</span></span></a><span>     </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>âˆ©</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.dualInterpolants|const"><span class="const"><span>dualInterpolants</span></span></a><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>âˆª</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.interpolants|const"><span class="const"><span>interpolants</span></span></a><span>     </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.dualInterpolants|const"><span class="const"><span>dualInterpolants</span></span></a><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Structure Preservation and Reflectionâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The function f preserves the relational structure of R into T.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.preserving|const"><span>preserving</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>Op(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>,</span></span><span>_</span><span class="keyword1"><span>-preserving</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="keyword1"><span>-preserving</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>X</span></span><span> </span><span class="bound"><span>Y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="bound"><span>X</span></span><span> </span><span class="bound"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>â†’</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>Y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The function f reflects the relational structure of T into R.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.reflecting|const"><span>reflecting</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>Op(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>,</span></span><span>_</span><span class="keyword1"><span>-reflecting</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="keyword1"><span>-reflecting</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>X</span></span><span> </span><span class="bound"><span>Y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="bound"><span>X</span></span><span> </span><span class="bound"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.seilpmi|const"><span>â†</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>Y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹This generalizes the notion of order-embedding to (endo)relations in general.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.embedding|const"><span>embedding</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>Op(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Op1|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>,</span></span><span>_</span><span class="keyword1"><span>-embedding</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="keyword1"><span>-embedding</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>X</span></span><span> </span><span class="bound"><span>Y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="bound"><span>X</span></span><span> </span><span class="bound"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>Y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Clearly, a function is an embedding iff it is both preserving and reflecting.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.embedding|const"><span>,</span></a></span><span class="free"><span>T</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.embedding|const"><span>-embedding</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.preserving|const"><span>,</span></a></span><span class="free"><span>T</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.preserving|const"><span>-preserving</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.reflecting|const"><span>,</span></a></span><span class="free"><span>T</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.reflecting|const"><span>-reflecting</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹An endofunction f is said to be monotonic resp. anti(mono)tonic wrt an endorelation R when it 
  is R-preserving resp. R-reversingâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.monotonic_def|fact"><span class="entity_def" id="relations.monotonic_def|thm"><span class="entity_def" id="relations.monotonic_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.monotonic|const"><span>monotonic</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-MONO</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><span>-MONO</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.preserving|const"><span>,</span></a></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.preserving|const"><span>-preserving</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.antitonic_def|fact"><span class="entity_def" id="relations.antitonic_def|thm"><span class="entity_def" id="relations.antitonic_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.antitonic|const"><span>antitonic</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-ANTI</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><span>-ANTI</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.preserving|const"><span>,</span></a></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.preserving|const"><span>-preserving</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.monotonic_def|fact"><span>monotonic_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.antitonic_def|fact"><span>antitonic_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.monotonic|const"><span>-MONO</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.antitonic|const"><span>-ANTI</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>(âŠ†<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.monotonic|const"><span>-MONO</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="bound"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>(âŠ†<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.antitonic|const"><span>-ANTI</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="bound"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>âŸ¶</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>B</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Monotonic endofunctions are called "closure/interior operators" when they satisfy particular properties.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.closure_def|fact"><span class="entity_def" id="relations.closure_def|thm"><span class="entity_def" id="relations.closure_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.closure|const"><span>closure</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-CLOSURE</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><span>-CLOSURE</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï†</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.monotonic|const"><span>-MONO</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï†</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.expansive|const"><span>-EXPN</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï†</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.weaklyContractive|const"><span>-wCNTR</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï†</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.interior_def|fact"><span class="entity_def" id="relations.interior_def|thm"><span class="entity_def" id="relations.interior_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.interior|const"><span>interior</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-INTERIOR</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><span>-INTERIOR</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï†</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.monotonic|const"><span>-MONO</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï†</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.contractive|const"><span>-CNTR</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï†</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.weaklyExpansive|const"><span>-wEXPN</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï†</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.closure_def|fact"><span>closure_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.interior_def|fact"><span>interior_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.closure_setprop|fact"><span class="entity_def" id="relations.closure_setprop|thm"><span>closure_setprop</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>(âŠ†)</span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.closure|const"><span>-CLOSURE</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â†”</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>z3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span> 


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Function-like Structure IIâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Monoidal Structure (composition and its dual)â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In analogy to functions, relations can also be composed, as follows:â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.relComp_def|fact"><span class="entity_def" id="relations.relComp_def|thm"><span class="entity_def" id="relations.relComp_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.relComp|const"><span>relComp</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span>  </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 55</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(;<span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>  </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B22_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(âŠ“)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">â™</span><b>A</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span>âŒ£</span></a></span><span> "</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Again, we can in fact define an operator that acts as a "dual" to relation-composition:â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.relDualComp_def|fact"><span class="entity_def" id="relations.relDualComp_def|thm"><span class="entity_def" id="relations.relDualComp_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.relDualComp|const"><span>relDualComp</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â€ <span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 55</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>(â€ <span class="hidden">â‡§</span><sup>r</sup>)</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B22_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.cover|const"><span>(âŠ”)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">â™</span><b>A</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span>âŒ£</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.relDualComp_def|fact"><span>relDualComp_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.relComp_def|fact"><span>relComp_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp|const"><span>â€ <span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.cover|const"><span>âŠ”</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp|const"><span>â€ <span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>âˆ¨</span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.interpolants|const"><span class="const"><span>interpolants</span></span></a><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp|const"><span>â€ <span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.dualInterpolants|const"><span class="const"><span>dualInterpolants</span></span></a><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.interpolants|const"><span class="const"><span>interpolants</span></span></a><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp|const"><span>â€ <span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.dualInterpolants|const"><span class="const"><span>dualInterpolants</span></span></a><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>1</sub></span></span><span> </span><span class="free"><span>R<span class="hidden">â‡©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relComp_def2|fact"><span class="entity_def" id="relations.relComp_def2|thm"><span>relComp_def2</span></span></span><span class="main"><span>:</span></span><span>     </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>(;<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B4_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>4</sub></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.interpolants|const"><span class="const"><span>interpolants</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relDualComp_def2|fact"><span class="entity_def" id="relations.relDualComp_def2|thm"><span>relDualComp_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp|const"><span>(â€ <span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B4_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>4</sub></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.dualInterpolants|const"><span class="const"><span>dualInterpolants</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We introduce convenient "flipped" notations for (dual-)composition (analogous to those for functions).â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.relComp_t|const"><span>relComp_t</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 55</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="keyword1"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.relDualComp_t|const"><span>relDualComp_t</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 55</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="keyword1"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp|const"><span>â€ <span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Unsurprisingly, (relational) composition and dual-composition are dual wrt. (relational) complement.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relCompDuality1|fact"><span class="entity_def" id="relations.relCompDuality1|thm"><span>relCompDuality1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relCompDuality2|fact"><span class="entity_def" id="relations.relCompDuality2|thm"><span>relCompDuality2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Moreover, relation (dual)composition and (dis)equality satisfy the monoid conditionsâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relComp_assoc|fact"><span class="entity_def" id="relations.relComp_assoc|thm"><span>relComp_assoc</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹associativityâ€º</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>                   
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relComp_id1|fact"><span class="entity_def" id="relations.relComp_id1|thm"><span>relComp_id1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>                     </span><span class="comment1"><span>â€• â€¹identity 1â€º</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>                   
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relComp_id2|fact"><span class="entity_def" id="relations.relComp_id2|thm"><span>relComp_id2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>                     </span><span class="comment1"><span>â€• â€¹identity 2â€º</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>   
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relCompDual_assoc|fact"><span class="entity_def" id="relations.relCompDual_assoc|thm"><span>relCompDual_assoc</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹associativityâ€º</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>                   
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relCompDual_id1|fact"><span class="entity_def" id="relations.relCompDual_id1|thm"><span>relCompDual_id1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>ğ’Ÿ</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>                     </span><span class="comment1"><span>â€• â€¹identity 1â€º</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>                   
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relCompDual_id2|fact"><span class="entity_def" id="relations.relCompDual_id2|thm"><span>relCompDual_id2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>ğ’Ÿ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>                     </span><span class="comment1"><span>â€• â€¹identity 2â€º</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Transpose acts as an "antihomomorphism" wrt. composition as well as its dual.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relComp_antihom|fact"><span class="entity_def" id="relations.relComp_antihom|thm"><span>relComp_antihom</span></span></span><span class="main"><span>:</span></span><span>     </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relCompDual_antihom|fact"><span class="entity_def" id="relations.relCompDual_antihom|thm"><span>relCompDual_antihom</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In a similar spirit, we have:â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp_t|const"><span>âˆ™<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Residualsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Introduce residuals (on the left resp. right) wrt. composition taken as </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>(;<span class="hidden">â‡§</span><sup>r</sup>)â€º</span></span></span><span>.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.residualOnRight_def|fact"><span class="entity_def" id="relations.residualOnRight_def|thm"><span class="entity_def" id="relations.residualOnRight_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.residualOnRight|const"><span>residualOnRight</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â–·<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 99</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="keyword1"><span>â–·<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp|const"><span>â€ <span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.residualOnLeft_def|fact"><span class="entity_def" id="relations.residualOnLeft_def|thm"><span class="entity_def" id="relations.residualOnLeft_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.residualOnLeft|const"><span>residualOnLeft</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â©¤<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 99</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="keyword1"><span>â©¤<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span>  </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span>  </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relDualComp|const"><span>â€ <span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.residualOnRight_def|fact"><span>residualOnRight_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.residualOnLeft_def|fact"><span>residualOnLeft_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Residuals can alternatively be defined using converse and complement.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.residualOnRight_def2|fact"><span class="entity_def" id="relations.residualOnRight_def2|thm"><span>residualOnRight_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.residualOnRight|const"><span>â–·<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.residualOnLeft_def2|fact"><span class="entity_def" id="relations.residualOnLeft_def2|thm"><span>residualOnLeft_def2</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.residualOnLeft|const"><span>â©¤<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We verify that they work as residuals wrt. </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>(;<span class="hidden">â‡§</span><sup>r</sup>)â€º</span></span></span><span> in the expected way.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.residual_simp1|fact"><span class="entity_def" id="relations.residual_simp1|thm"><span>residual_simp1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.residualOnRight|const"><span>â–·<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.residual_simp2|fact"><span class="entity_def" id="relations.residual_simp2|thm"><span>residual_simp2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.residualOnLeft|const"><span>â©¤<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Introduce some convenient reversed notation for the corresponding residuals wrt. </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>(âˆ˜<span class="hidden">â‡§</span><sup>r</sup>)â€º</span></span></span><span>.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.residualOnRight_t|const"><span>residualOnRight_t</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â—<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 99</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="keyword1"><span>â—<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.residualOnRight|const"><span>â–·<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.residualOnLeft_t|const"><span>residualOnLeft_t</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>â©¥<span class="hidden">â‡§</span><sup>r</sup></span></span><span>"</span></span><span> 99</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="keyword1"><span>â©¥<span class="hidden">â‡§</span><sup>r</sup></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.residualOnLeft|const"><span>â©¤<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Check alternative characterization.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.residualOnLeft_t|const"><span>â©¥<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.residualOnRight_t|const"><span>â—<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Verify that they work as residuals wrt. </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>(âˆ˜<span class="hidden">â‡§</span><sup>r</sup>)â€º</span></span></span><span> in the expected way.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.residualOnLeft_t|const"><span>â©¥<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.residualOnRight_t|const"><span>â—<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Ideal Elementsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹A related property of relations is that of (generating a) left- resp. right ideal.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.leftIdeal_def|fact"><span class="entity_def" id="relations.leftIdeal_def|thm"><span class="entity_def" id="relations.leftIdeal_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.leftIdeal|const"><span>leftIdeal</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>leftIdeal</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>(;<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.univR|const"><span>ğ”˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.rightIdeal_def|fact"><span class="entity_def" id="relations.rightIdeal_def|thm"><span class="entity_def" id="relations.rightIdeal_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rightIdeal|const"><span>rightIdeal</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rightIdeal</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>(âˆ˜<span class="hidden">â‡§</span><sup>r</sup>)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.univR|const"><span>ğ”˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftIdeal_def|fact"><span>leftIdeal_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightIdeal_def|fact"><span>rightIdeal_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftIdeal|const"><span class="const"><span>leftIdeal</span></span></a><span>  </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.univR|const"><span>ğ”˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightIdeal|const"><span class="const"><span>rightIdeal</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>  </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.univR|const"><span>ğ”˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹An alternative, equivalent definition also common in the literature (e.g. on semirings).â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftIdeal_def2|fact"><span class="entity_def" id="relations.leftIdeal_def2|thm"><span>leftIdeal_def2</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftIdeal|const"><span class="const"><span>leftIdeal</span></span></a><span>  </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp_t|const"><span>âˆ˜<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightIdeal_def2|fact"><span class="entity_def" id="relations.rightIdeal_def2|thm"><span>rightIdeal_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightIdeal|const"><span class="const"><span>rightIdeal</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.relComp|const"><span>;<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.subrel|const"><span>âŠ†<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In fact, the left/right-cylindrification operations discussed previously return left/right-ideal 
 (generating) relations. Moreover, all left/right-ideal relations can be generated this way.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightIdeal|const"><span class="const"><span>rightIdeal</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.range|const"><span class="const"><span>range</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.rightCylinder|const"><span class="const"><span>rightCylinder</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftIdeal|const"><span class="const"><span>leftIdeal</span></span></a><span>  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.range|const"><span class="const"><span>range</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.leftCylinder|const"><span class="const"><span>leftCylinder</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Kernel of a Relationâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>kernelâ€º</span></span></span><span> of a relation relates those elements in its source domain that are related to some 
 same value (i.e. whose images overlap).â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.relKernel_def|fact"><span class="entity_def" id="relations.relKernel_def|thm"><span class="entity_def" id="relations.relKernel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.relKernel|const"><span>relKernel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relKernel</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Psi&gt;2_comb|const"><span><span class="hidden">â™</span><b>Î¨</b><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(âŠ“)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.relKernel_def|fact"><span>relKernel_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relKernel|const"><span class="const"><span>relKernel</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.relKernel_def|fact"><span>relKernel_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The notion of kernel for relations corresponds to (and generalizes) the functional counterpart.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relKernel|const"><span class="const"><span>relKernel</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.kernel|const"><span class="const"><span>kernel</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.kernel|const"><span class="const"><span>kernel</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relKernel|const"><span class="const"><span>relKernel</span></span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Pullback and Equalizer of a Pair of Relationsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The pullback (aka. fiber product) of two relations R and T (sharing the same target), 
 relates those pairs of elements that get assigned some same value by R and T respectively.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.relPullback_def|fact"><span class="entity_def" id="relations.relPullback_def|thm"><span class="entity_def" id="relations.relPullback_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.relPullback|const"><span>relPullback</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relPullback</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(âŠ“)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback_def|fact"><span>relPullback_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback_def|fact"><span>relPullback_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Pullback can be said to be "symmetric" in the following sense.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relPullback_symm|fact"><span class="entity_def" id="relations.relPullback_symm|thm"><span>relPullback_symm</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C2143_comb|const"><span><span class="hidden">â™</span><b>C</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>4</sub><span class="hidden">â‡©</span><sub>3</sub></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback_def|fact"><span>relPullback_def</span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.relPullback_symm&apos;|fact"><span class="entity_def" id="relations.relPullback_symm&apos;|thm"><span>relPullback_symm'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.relPullback_symm|fact"><span>relPullback_symm</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.relPullback_symm|fact"><span>relPullback_symm</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The notion of pullback for relations corresponds to (and generalizes) the functional counterpart.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Converse and kernel of a relation can be easily stated in terms of relation-pullback.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relKernel|const"><span class="const"><span>relKernel</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">â™</span><b>W</b></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The equalizer of two relations </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Râ€º</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Tâ€º</span></span></span><span> (sharing the same source and target) is the set of 
 elements </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>xâ€º</span></span></span><span> in their (common) source that are related to some same value (i.e. </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>R xâ€º</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>T xâ€º</span></span></span><span> intersect).â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.relEqualizer_def|fact"><span class="entity_def" id="relations.relEqualizer_def|thm"><span class="entity_def" id="relations.relEqualizer_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.relEqualizer|const"><span>relEqualizer</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relEqualizer</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(âŠ“)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.relEqualizer_def|fact"><span>relEqualizer_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relEqualizer|const"><span class="const"><span>relEqualizer</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In fact, the equalizer of two relations can be stated in terms of their pullback.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relEqualizer|const"><span class="const"><span>relEqualizer</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">â™</span><b>W</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Note that we can swap the roles of "points" and "functions" in the above definitions using permutators.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C231_comb|const"><span><span class="hidden">â™</span><b>R</b></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relEqualizer|const"><span class="const"><span>relEqualizer</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>R</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C3412_comb|const"><span><span class="hidden">â™</span><b>C</b><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>R</span></span><span> </span><span class="bound"><span>T</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>R</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="bound"><span>T</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The notion of equalizer for relations corresponds to (and generalizes) the functional counterpart.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relEqualizer|const"><span class="const"><span>relEqualizer</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.equalizer|const"><span class="const"><span>equalizer</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.equalizer|const"><span class="const"><span>equalizer</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relEqualizer|const"><span class="const"><span>relEqualizer</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Pushout and Coequalizer of a Pair of Relationsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The pushout (aka. fiber coproduct) of two relations R and T (sharing the same source), relates
 pairs of elements (in their targets) whose preimages under R resp. T intersect.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.relPushout|const"><span>relPushout</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relPushout</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="relations.html#relations.relPullback|const"><span class="const"><span>relPullback</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relPushout|const"><span class="const"><span>relPushout</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The notion of pushout for relations corresponds to (and generalizes) the functional counterpart.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relPushout|const"><span class="const"><span>relPushout</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relPushout|const"><span class="const"><span>relPushout</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The coequalizer of two relations R and T (sharing the same source and target) is the set of 
 elements in their (common) target whose preimage under R resp. T intersect.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.relCoequalizer|const"><span>relCoequalizer</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relCoequalizer</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="relations.html#relations.relEqualizer|const"><span class="const"><span>relEqualizer</span></span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relCoequalizer|const"><span class="const"><span>relCoequalizer</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The coequalizer of two relations can be stated in terms of pushout.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relCoequalizer|const"><span class="const"><span>relCoequalizer</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">â™</span><b>W</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relPushout|const"><span class="const"><span>relPushout</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The notion of coequalizer for relations corresponds to (and generalizes) the functional counterpart.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.relCoequalizer|const"><span class="const"><span>relCoequalizer</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.coequalizer|const"><span class="const"><span>coequalizer</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.coequalizer|const"><span class="const"><span>coequalizer</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.relCoequalizer|const"><span class="const"><span>relCoequalizer</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Diagonal Elementsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹The notion of diagonal (aka. reflexive) elements of an endorelation is the relational counterpart 
 to the notion of fixed-points of an endofunction. It corresponds to the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span><span class="hidden">â™</span><b>W</b>â€º</span></span></span><span> combinator.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.diagonal|const"><span>diagonal</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>Î”</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>Î”</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">â™</span><b>W</b></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI|fact"><span>someI</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Analogously, the notion of anti-diagonal (aka. irreflexive) elements of an endorelation 
 (notation: </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Î”<span class="hidden">â‡§</span><sup>â”€</sup>â€º</span></span></span><span>) is the relational counterpart to the notion of non-fixed-points of an endofunction.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span class="free"><span>R</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.nonFixedPoint|const"><span>nFP</span></a></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.nonFixedPoint|const"><span>nFP</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.diagonal|const"><span>Î”</span></a></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI|fact"><span>someI</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Relation-based Set-Operationsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We can extend the definitions of the (pre)image set-operator from functions to relations
 together with their "dual" counterparts.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.rightImage_def|fact"><span class="entity_def" id="relations.rightImage_def|thm"><span class="entity_def" id="relations.rightImage_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rightImage|const"><span>rightImage</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rightImage</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(âŠ“)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.leftImage_def|fact"><span class="entity_def" id="relations.leftImage_def|thm"><span class="entity_def" id="relations.leftImage_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.leftImage|const"><span>leftImage</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>leftImage</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(âŠ“)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">â™</span><b>A</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.rightDualImage_def|fact"><span class="entity_def" id="relations.rightDualImage_def|thm"><span class="entity_def" id="relations.rightDualImage_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rightDualImage|const"><span>rightDualImage</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rightDualImage</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>(âŠ†)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.leftDualImage_def|fact"><span class="entity_def" id="relations.leftDualImage_def|thm"><span class="entity_def" id="relations.leftDualImage_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.leftDualImage|const"><span>leftDualImage</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>leftDualImage</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>(âŠ†)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">â™</span><b>A</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightImage_def|fact"><span>rightImage_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftImage_def|fact"><span>leftImage_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightDualImage_def|fact"><span>rightDualImage_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftDualImage_def|fact"><span>leftDualImage_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> 

</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightImage|const"><span class="const"><span>rightImage</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-rightImage</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><a class="entity_ref" href="relations.html#relations.leftImage|const"><span class="const"><span>leftImage</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-leftImage</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
                </span><a class="entity_ref" href="relations.html#relations.rightDualImage|const"><span class="const"><span>rightDualImage</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-rightDualImage</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><a class="entity_ref" href="relations.html#relations.leftDualImage|const"><span class="const"><span>leftDualImage</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-leftDualImage</span></span><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightImage|const"><span>-rightImage</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftImage|const"><span>-leftImage</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualImage|const"><span>-rightDualImage</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualImage|const"><span>-leftDualImage</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightImage|const"><span>-rightImage</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftImage|const"><span>-leftImage</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualImage|const"><span>-rightDualImage</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>â†’</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualImage|const"><span>-leftDualImage</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>â†’</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Convenient characterizations in terms of big-union and big-intersection.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightImage_def2|fact"><span class="entity_def" id="relations.rightImage_def2|thm"><span>rightImage_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightImage|const"><span class="const"><span>rightImage</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftImage_def2|fact"><span class="entity_def" id="relations.leftImage_def2|thm"><span>leftImage_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftImage|const"><span class="const"><span>leftImage</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span>âŒ£</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightDualImage_def2|fact"><span class="entity_def" id="relations.rightDualImage_def2|thm"><span>rightDualImage_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightDualImage|const"><span class="const"><span>rightDualImage</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftDualImage_def2|fact"><span class="entity_def" id="relations.leftDualImage_def2|thm"><span>leftDualImage_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftDualImage|const"><span class="const"><span>leftDualImage</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span>âˆ¼</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightImage|const"><span>-rightImage</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightImage_def2|fact"><span>rightImage_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftImage|const"><span>-leftImage</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftImage_def2|fact"><span>leftImage_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualImage|const"><span>-rightDualImage</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>  </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightDualImage_def2|fact"><span>rightDualImage_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualImage|const"><span>-leftDualImage</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>  </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftDualImage_def2|fact"><span>leftDualImage_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹As expected, relational right- resp. left-image correspond to functional image resp. preimage.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightImage|const"><span class="const"><span>rightImage</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftImage|const"><span class="const"><span>leftImage</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asRel|const"><span>asRel</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rightImage|const"><span class="const"><span>rightImage</span></span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI|fact"><span>someI</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.totalFunction|const"><span class="const"><span>totalFunction</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>âŸ¹</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.asFun|const"><span>asFun</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.leftImage|const"><span class="const"><span>leftImage</span></span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI|fact"><span>someI</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Clearly, each direction (right/left) uniquely determines the other (its transpose).â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightImage_defT|fact"><span class="entity_def" id="relations.rightImage_defT|thm"><span>rightImage_defT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightImage|const"><span>-rightImage</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftImage|const"><span>-leftImage</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftImage_defT|fact"><span class="entity_def" id="relations.leftImage_defT|thm"><span>leftImage_defT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftImage|const"><span>-leftImage</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightImage|const"><span>-rightImage</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightDualImage_defT|fact"><span class="entity_def" id="relations.rightDualImage_defT|thm"><span>rightDualImage_defT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualImage|const"><span>-rightDualImage</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualImage|const"><span>-leftDualImage</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftDualImage_defT|fact"><span class="entity_def" id="relations.leftDualImage_defT|thm"><span>leftDualImage_defT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualImage|const"><span>-leftDualImage</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualImage|const"><span>-rightDualImage</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Following operators (aka. "polarities") are inspired by (and generalize) the notion of upper/lower 
 bounds of a set wrt. an ordering. They are defined here for relations in general.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.rightBound_def|fact"><span class="entity_def" id="relations.rightBound_def|thm"><span class="entity_def" id="relations.rightBound_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rightBound|const"><span>rightBound</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rightBound</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.superset|const"><span>(âŠ‡)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>                                 </span><span class="comment1"><span>(*cf. rightDualImage (using âŠ‡)*)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.leftBound_def|fact"><span class="entity_def" id="relations.leftBound_def|thm"><span class="entity_def" id="relations.leftBound_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.leftBound|const"><span>leftBound</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>leftBound</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.superset|const"><span>(âŠ‡)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">â™</span><b>A</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>                                   </span><span class="comment1"><span>(*cf. leftDualImage (using âŠ‡)*)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.rightDualBound_def|fact"><span class="entity_def" id="relations.rightDualBound_def|thm"><span class="entity_def" id="relations.rightDualBound_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rightDualBound|const"><span>rightDualBound</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rightDualBound</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Psi&gt;2_comb|const"><span><span class="hidden">â™</span><b>Î¨</b><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(âŠ“)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>              </span><span class="comment1"><span>(*cf. rightImage (preprocessed with â”€)*)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="relations.leftDualBound_def|fact"><span class="entity_def" id="relations.leftDualBound_def|thm"><span class="entity_def" id="relations.leftDualBound_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.leftDualBound|const"><span>leftDualBound</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>leftDualBound</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Psi&gt;2_comb|const"><span><span class="hidden">â™</span><b>Î¨</b><span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(âŠ“)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">â™</span><b>A</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>                </span><span class="comment1"><span>(*cf. leftImage (preprocessed with â”€)*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightBound_def|fact"><span>rightBound_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftBound_def|fact"><span>leftBound_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightDualBound_def|fact"><span>rightDualBound_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftDualBound_def|fact"><span>leftDualBound_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_defs|attribute"><span class="operator"><span>rel_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightBound|const"><span class="const"><span>rightBound</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-rightBound</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><a class="entity_ref" href="relations.html#relations.leftBound|const"><span class="const"><span>leftBound</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-leftBound</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
                </span><a class="entity_ref" href="relations.html#relations.rightDualBound|const"><span class="const"><span>rightDualBound</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-rightDualBound</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><a class="entity_ref" href="relations.html#relations.leftDualBound|const"><span class="const"><span>leftDualBound</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-leftDualBound</span></span><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>âŠ†</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualBound|const"><span>-rightDualBound</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualBound|const"><span>-leftDualBound</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>âŠ“</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>â†’</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>âˆ€</span></a></span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>â†’</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualBound|const"><span>-rightDualBound</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualBound|const"><span>-leftDualBound</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>âˆƒ</span></a></span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>âˆ§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Alternative (more insightful?) definitions for dual-bounds.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightDualBound_def&apos;|fact"><span class="entity_def" id="relations.rightDualBound_def&apos;|thm"><span>rightDualBound_def'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightDualBound|const"><span class="const"><span>rightDualBound</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.cover|const"><span>(âŠ”)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftDualBound_def&apos;|fact"><span class="entity_def" id="relations.leftDualBound_def&apos;|thm"><span>leftDualBound_def'</span></span></span><span class="main"><span>:</span></span><span>   </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftDualBound|const"><span class="const"><span>leftDualBound</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>0</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.cover|const"><span>(âŠ”)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">â™</span><b>A</b></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualBound|const"><span>-rightDualBound</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.cover|const"><span>âŠ”</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightDualBound_def&apos;|fact"><span>rightDualBound_def'</span></a><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualBound|const"><span>-leftDualBound</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.cover|const"><span>âŠ”</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftDualBound_def&apos;|fact"><span>leftDualBound_def'</span></a><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Convenient characterizations in terms of big-union and big-intersection.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightBound_def2|fact"><span class="entity_def" id="relations.rightBound_def2|thm"><span>rightBound_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightBound|const"><span class="const"><span>rightBound</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftBound_def2|fact"><span class="entity_def" id="relations.leftBound_def2|thm"><span>leftBound_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftBound|const"><span class="const"><span>leftBound</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span>âŒ£</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightDualBound_def2|fact"><span class="entity_def" id="relations.rightDualBound_def2|thm"><span>rightDualBound_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightDualBound|const"><span class="const"><span>rightDualBound</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.complR|const"><span>â”€<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftDualBound_def2|fact"><span class="entity_def" id="relations.leftDualBound_def2|thm"><span>leftDualBound_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftDualBound|const"><span class="const"><span>leftDualBound</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">â™</span><b>B</b><span class="hidden">â‡©</span><sub>1</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span>âˆ¼</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightBound_def2|fact"><span>rightBound_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftBound_def2|fact"><span>leftBound_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualBound|const"><span>-rightDualBound</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightDualBound_def2|fact"><span>rightDualBound_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualBound|const"><span>-leftDualBound</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.cotranspose|const"><span><span class="hidden">â‡§</span><sup>âˆ¼</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>â”€</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftDualBound_def2|fact"><span>leftDualBound_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Some particular properties of right and left bounds.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.right_dual_hom|fact"><span class="entity_def" id="relations.right_dual_hom|thm"><span>right_dual_hom</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.left_dual_hom|fact"><span class="entity_def" id="relations.left_dual_hom|thm"><span>left_dual_hom</span></span></span><span class="main"><span>:</span></span><span>   </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Note, however:â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proposition</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span> </span><span class="comment1"><span>â€• â€¹countermodel foundâ€º</span></span><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proposition</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span> </span><span class="comment1"><span>â€• â€¹countermodel foundâ€º</span></span><span> </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We have, rather:â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.superset|const"><span>âŠ‡</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>â‹‚</span></a></span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.superset|const"><span>âŠ‡</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦‡</span></a></span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>â¦ˆ</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Clearly, each direction (right/left) uniquely determines the other (its transpose).â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightBound_defT|fact"><span class="entity_def" id="relations.rightBound_defT|thm"><span>rightBound_defT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftBound_defT|fact"><span class="entity_def" id="relations.leftBound_defT|thm"><span>leftBound_defT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightBoundDual_defT|fact"><span class="entity_def" id="relations.rightBoundDual_defT|thm"><span>rightBoundDual_defT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualBound|const"><span>-rightDualBound</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualBound|const"><span>-leftDualBound</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftBoundDual_defT|fact"><span class="entity_def" id="relations.leftBoundDual_defT|thm"><span>leftBoundDual_defT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualBound|const"><span>-leftDualBound</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.transpose|const"><span><span class="hidden">â‡§</span><sup>âŒ£</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualBound|const"><span>-rightDualBound</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In fact, there exists a particular "relational duality" between images and bounds, as follows:â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightImage_dualR|fact"><span class="entity_def" id="relations.rightImage_dualR|thm"><span>rightImage_dualR</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightImage|const"><span>-rightImage</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftImage_dualR|fact"><span class="entity_def" id="relations.leftImage_dualR|thm"><span>leftImage_dualR</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftImage|const"><span>-leftImage</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightDualImage_dualR|fact"><span class="entity_def" id="relations.rightDualImage_dualR|thm"><span>rightDualImage_dualR</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualImage|const"><span>-rightDualImage</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualBound|const"><span>-rightDualBound</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftDualImage_dualR|fact"><span class="entity_def" id="relations.leftDualImage_dualR|thm"><span>leftDualImage_dualR</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualImage|const"><span>-leftDualImage</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualBound|const"><span>-leftDualBound</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightBound_dualR|fact"><span class="entity_def" id="relations.rightBound_dualR|thm"><span>rightBound_dualR</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightBound|const"><span>-rightBound</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightImage|const"><span>-rightImage</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftBound_dualR|fact"><span class="entity_def" id="relations.leftBound_dualR|thm"><span>leftBound_dualR</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftBound|const"><span>-leftBound</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftImage|const"><span>-leftImage</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightDualBound_dualR|fact"><span class="entity_def" id="relations.rightDualBound_dualR|thm"><span>rightDualBound_dualR</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualBound|const"><span>-rightDualBound</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.rightDualImage|const"><span>-rightDualImage</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftDualBound_dualR|fact"><span class="entity_def" id="relations.leftDualBound_dualR|thm"><span>leftDualBound_dualR</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualBound|const"><span>-leftDualBound</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.leftDualImage|const"><span>-leftDualImage</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="relations.html#relations.complR|const"><span><span class="hidden">â‡§</span><sup>â”€</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Finally, ranges can be expressed in terms of images and bounds.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftRange_simp|fact"><span class="entity_def" id="relations.leftRange_simp|thm"><span>leftRange_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftImage|const"><span class="const"><span>leftImage</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.universe|const"><span>ğ”˜</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.leftRange|const"><span class="const"><span>leftRange</span></span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightRange_simp|fact"><span class="entity_def" id="relations.rightRange_simp|thm"><span>rightRange_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightImage|const"><span class="const"><span>rightImage</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.universe|const"><span>ğ”˜</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rightRange|const"><span class="const"><span>rightRange</span></span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.leftDualRange_simp|fact"><span class="entity_def" id="relations.leftDualRange_simp|thm"><span>leftDualRange_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.leftBound|const"><span class="const"><span>leftBound</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.universe|const"><span>ğ”˜</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.leftDualRange|const"><span class="const"><span>leftDualRange</span></span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="relations.rightDualRange_simp|fact"><span class="entity_def" id="relations.rightDualRange_simp|thm"><span>rightDualRange_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rightBound|const"><span class="const"><span>rightBound</span></span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.universe|const"><span>ğ”˜</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rightDualRange|const"><span class="const"><span>rightDualRange</span></span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.leftRange_simp|fact"><span>leftRange_simp</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_simps|attribute"><span class="operator"><span>rel_simps</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightRange_simp|fact"><span>rightRange_simp</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_simps|attribute"><span class="operator"><span>rel_simps</span></span></a><span class="main"><span>]</span></span><span> 
        </span><a class="entity_ref" href="relations.html#relations.leftDualRange_simp|fact"><span>leftDualRange_simp</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_simps|attribute"><span class="operator"><span>rel_simps</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightDualRange_simp|fact"><span>rightDualRange_simp</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="relations.html#relations.rel_simps|attribute"><span class="operator"><span>rel_simps</span></span></a><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Type-lifting and Monadsâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Set Monadâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We can conceive of types of form </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Set('a)â€º</span></span></span><span>, i.e. </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>'a â‡’ oâ€º</span></span></span><span>, as arising via an "environmentalization"
 (or "indexation") of the boolean type </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>oâ€º</span></span></span><span> by the type </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>'aâ€º</span></span></span><span> (i.e. as an instance of the environment 
 monad discussed previously). Furthermore, we can adopt an alternative perspective and consider a 
 constructor that returns the type of boolean "valuations" (or "classifiers") for objects of type </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>'aâ€º</span></span></span><span>.
 This type constructor comes with a monad structure too (and is also an applicative and a functor).â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.unit_set|const"><span>unit_set</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>unit_set</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.fmap_set|const"><span>fmap_set</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>fmap_set</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.join_set|const"><span>join_set</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>join_set</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>â‹ƒ</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.ap_set|const"><span>ap_set</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ap_set</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightImage|const"><span class="const"><span>rightImage</span></span></a><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rbind_set|const"><span>rbind_set</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rbind_set</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><a class="entity_ref" href="relations.html#relations.rightImage|const"><span class="const"><span>rightImage</span></span></a><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹reversed bindâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹We define the customary bind operation as "flipped" </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>rbindâ€º</span></span></span><span> (which seems more intuitive).â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.bind_set|const"><span>bind_set</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bind_set</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rbind_set|const"><span class="const"><span>rbind_set</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Some properties of monads in general.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rbind_set|const"><span class="const"><span>rbind_set</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.join_set|const"><span class="const"><span>join_set</span></span></a><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.fmap_set|const"><span class="const"><span>fmap_set</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.join_set|const"><span class="const"><span>join_set</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rbind_set|const"><span class="const"><span>rbind_set</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">â™</span><b>I</b></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="comment1"><span>â€• â€¹... and so onâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Some properties of this particular monad.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.ap_set|const"><span class="const"><span>ap_set</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigunionR|const"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="comment1"><span>â€• â€¹... and so onâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Verifies compliance with the monad laws.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw1|const"><span class="const"><span>monadLaw1</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.unit_set|const"><span class="const"><span>unit_set</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.bind_set|const"><span class="const"><span>bind_set</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw2|const"><span class="const"><span>monadLaw2</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.unit_set|const"><span class="const"><span>unit_set</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.bind_set|const"><span class="const"><span>bind_set</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw3|const"><span class="const"><span>monadLaw3</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.bind_set|const"><span class="const"><span>bind_set</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Relation Monadâ€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹In fact, the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â€¹</span></span><span>Rel('a,'b)â€º</span></span></span><span> type constructor also comes with a monad structure, which can be seen as 
 a kind of "monad composition" of the environment monad with the set monad.â€º</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.unit_rel|const"><span>unit_rel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>unit_rel</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.K21_comb|const"><span><span class="hidden">â™</span><b>K</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>ğ’¬</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.fmap_rel|const"><span>fmap_rel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>fmap_rel</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.join_rel|const"><span>join_rel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>join_rel</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">â™</span><b>W</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.bigunionR|const"><span>â‹ƒ<span class="hidden">â‡§</span><sup>r</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.ap_rel|const"><span>ap_rel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ap_rel</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="relations.html#relations.rightImage|const"><span class="const"><span>rightImage</span></span></a><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="relations.html#relations.intoRel|const"><span>intoRel</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="relations.rbind_rel|const"><span>rbind_rel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rbind_rel</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rightImage|const"><span class="const"><span>rightImage</span></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>âˆ˜</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>â€• â€¹reversed bindâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Again, we define the bind operation as "flipped" rbindâ€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="relations.bind_rel|const"><span>bind_rel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â‡’</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bind_rel</span></span><span> </span><span class="main"><span>â‰¡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rbind_rel|const"><span class="const"><span>rbind_rel</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Some properties of monads in general.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rbind_rel|const"><span class="const"><span>rbind_rel</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.join_rel|const"><span class="const"><span>join_rel</span></span></a><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>âˆ˜<span class="hidden">â‡©</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.fmap_rel|const"><span class="const"><span>fmap_rel</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.join_rel|const"><span class="const"><span>join_rel</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rbind_rel|const"><span class="const"><span>rbind_rel</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">â™</span><b>I</b></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="comment1"><span>â€• â€¹... and so onâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Note that for the relation monad we have:â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.unit_rel|const"><span class="const"><span>unit_rel</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.unit_env|const"><span class="const"><span>unit_env</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.unit_set|const"><span class="const"><span>unit_set</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.fmap_rel|const"><span class="const"><span>fmap_rel</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.fmap_env|const"><span class="const"><span>fmap_env</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.fmap_set|const"><span class="const"><span>fmap_set</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.ap_rel|const"><span class="const"><span>ap_rel</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.ap_set|const"><span class="const"><span>ap_set</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="relations.html#relations.rbind_rel|const"><span class="const"><span>rbind_rel</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">â™</span><b>B</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">â™</span><b>C</b></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">â™</span><b>Î¦</b><span class="hidden">â‡©</span><sub>2</sub><span class="hidden">â‡©</span><sub>1</sub></span></a></span><span> </span><a class="entity_ref" href="relations.html#relations.rbind_set|const"><span class="const"><span>rbind_set</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="comment1"><span>â€• â€¹... and so onâ€º</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â€¹Finally, verify compliance with the monad laws.â€º</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw1|const"><span class="const"><span>monadLaw1</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.unit_rel|const"><span class="const"><span>unit_rel</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.bind_rel|const"><span class="const"><span>bind_rel</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw2|const"><span class="const"><span>monadLaw2</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.unit_rel|const"><span class="const"><span>unit_rel</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.bind_rel|const"><span class="const"><span>bind_rel</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw3|const"><span class="const"><span>monadLaw3</span></span></a><span> </span><a class="entity_ref" href="relations.html#relations.bind_rel|const"><span class="const"><span>bind_rel</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="relations.html#relations.rel_defs|fact"><span class="dynamic"><span class="dynamic"><span>rel_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>