<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory func_sets</title>
</head>


<body>
<div class="head">
<h1>Theory func_sets</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Functions and Sets›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We introduce several convenient definitions and lemmata for working with functions and sets.›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="func_sets.html"><span>func_sets</span></a><span> </span><span class="comment1"><span>(* A basic theory of sets and functions*)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="connectives.html"><span>connectives</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="func_sets.func_defs|attribute"><span class="entity_def" id="func_sets.func_defs|fact"><span>func_defs</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Basic Functional Notions›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Monoid Structure›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Functions feature a monoidal structure. The identity function is a nullary operation 
 (i.e. a "constant"). It corresponds to the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span><span class="hidden">❙</span><b>I</b>›</span></span></span><span> combinator. Function composition is the main binary
  operation between functions and corresponds to the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span><span class="hidden">❙</span><b>B</b>›</span></span></span><span> combinator.›</span></span></span><span>

</span><span class="comment1"><span>― ‹Recalling›</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>h</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb_t&apos;|const"><span>;</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb_t&apos;|const"><span>;</span></a></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>(</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Composition and identity satisfy the monoid conditions.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>    </span><span class="comment1"><span>― ‹associativity›</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>                   </span><span class="comment1"><span>― ‹identity 1›</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>                   </span><span class="comment1"><span>― ‹identity 2›</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Fixed-Points›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The set of pre- resp. post-fixed-points of an endofunction </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> wrt an endorelation </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>R›</span></span></span><span>, are those points
 sent by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> backwards resp. forward wrt </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>R›</span></span></span><span>. Note that if </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>R›</span></span></span><span> is symmetric then both notions coincide.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.preFixedPoint_def|fact"><span class="entity_def" id="func_sets.preFixedPoint_def|thm"><span class="entity_def" id="func_sets.preFixedPoint_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.preFixedPoint|const"><span>preFixedPoint</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-preFP</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>preFixedPoint</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Sigma&gt;11_comb|const"><span><span class="hidden">❙</span><b>Σ</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.postFixedPoint_def|fact"><span class="entity_def" id="func_sets.postFixedPoint_def|thm"><span class="entity_def" id="func_sets.postFixedPoint_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.postFixedPoint|const"><span>postFixedPoint</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-postFP</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>postFixedPoint</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.S11_comb|const"><span><span class="hidden">❙</span><b>S</b></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preFixedPoint_def|fact"><span>preFixedPoint_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.postFixedPoint_def|fact"><span>postFixedPoint_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.preFixedPoint|const"><span>-preFP</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.postFixedPoint|const"><span>-postFP</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The set of weak pre-/post-fixed-points of endooperation wrt. an endorelation.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.weakPreFixedPoint_def|fact"><span class="entity_def" id="func_sets.weakPreFixedPoint_def|thm"><span class="entity_def" id="func_sets.weakPreFixedPoint_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.weakPreFixedPoint|const"><span>weakPreFixedPoint</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-wPreFP</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>weakPreFixedPoint</span></span><span>  </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C312_comb|const"><span><span class="hidden">❙</span><b>L</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;22_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">❙</span><b>W</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">❙</span><b>B</b></span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">❙</span><b>A</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.weakPostFixedPoint_def|fact"><span class="entity_def" id="func_sets.weakPostFixedPoint_def|thm"><span class="entity_def" id="func_sets.weakPostFixedPoint_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.weakPostFixedPoint|const"><span>weakPostFixedPoint</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-wPostFP</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>weakPostFixedPoint</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C312_comb|const"><span><span class="hidden">❙</span><b>L</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;22_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">❙</span><b>A</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">❙</span><b>W</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">❙</span><b>B</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.weakPreFixedPoint_def|fact"><span>weakPreFixedPoint_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.weakPostFixedPoint_def|fact"><span>weakPostFixedPoint_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.weakPreFixedPoint|const"><span>-wPreFP</span></a></span><span> </span><span class="free"><span>φ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>φ</span></span><span class="main"><span>(</span></span><span class="free"><span>φ</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>φ</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.weakPostFixedPoint|const"><span>-wPostFP</span></a></span><span> </span><span class="free"><span>φ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>φ</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>φ</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>φ</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The (non-)fixed-points of an endofunction are just the pre/post-fixed points wrt (dis)equality.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.fixedPoint_def|fact"><span class="entity_def" id="func_sets.fixedPoint_def|thm"><span class="entity_def" id="func_sets.fixedPoint_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.fixedPoint|const"><span>fixedPoint</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>FP</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>FP</span></span><span>  </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.postFixedPoint|const"><span>-postFP</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.nonFixedPoint_def|fact"><span class="entity_def" id="func_sets.nonFixedPoint_def|thm"><span class="entity_def" id="func_sets.nonFixedPoint_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.nonFixedPoint|const"><span>nonFixedPoint</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>nFP</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>nFP</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>𝒟</span></a></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.postFixedPoint|const"><span>-postFP</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint_def|fact"><span>fixedPoint_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.nonFixedPoint_def|fact"><span>nonFixedPoint_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.nonFixedPoint|const"><span>nFP</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.fixedPoint_defT|fact"><span class="entity_def" id="func_sets.fixedPoint_defT|thm"><span>fixedPoint_defT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.preFixedPoint|const"><span>-preFP</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.nonFixedPoint_defT|fact"><span class="entity_def" id="func_sets.nonFixedPoint_defT|thm"><span>nonFixedPoint_defT</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.nonFixedPoint|const"><span>nFP</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>𝒟</span></a></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.preFixedPoint|const"><span>-preFP</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹An endooperation can be said to be (weakly) expansive resp. contractive wrt an endorelation
 when all of its points are (weak) pre-fixed-points resp. (weak) post-fixed-points.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.expansive_def|fact"><span class="entity_def" id="func_sets.expansive_def|thm"><span class="entity_def" id="func_sets.expansive_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.expansive|const"><span>expansive</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-EXPN</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><span>-EXPN</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.postFixedPoint|const"><span>-postFP</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.contractive_def|fact"><span class="entity_def" id="func_sets.contractive_def|thm"><span class="entity_def" id="func_sets.contractive_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.contractive|const"><span>contractive</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-CNTR</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><span>-CNTR</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.preFixedPoint|const"><span>-preFP</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.weaklyExpansive_def|fact"><span class="entity_def" id="func_sets.weaklyExpansive_def|thm"><span class="entity_def" id="func_sets.weaklyExpansive_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.weaklyExpansive|const"><span>weaklyExpansive</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-wEXPN</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><span>-wEXPN</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.weakPostFixedPoint|const"><span>-wPostFP</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.weaklyContractive_def|fact"><span class="entity_def" id="func_sets.weaklyContractive_def|thm"><span class="entity_def" id="func_sets.weaklyContractive_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.weaklyContractive|const"><span>weaklyContractive</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-wCNTR</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><span>-wCNTR</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.weakPreFixedPoint|const"><span>-wPreFP</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.expansive_def|fact"><span>expansive_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.contractive_def|fact"><span>contractive_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> 
        </span><a class="entity_ref" href="func_sets.html#func_sets.weaklyExpansive_def|fact"><span>weaklyExpansive_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.weaklyContractive_def|fact"><span>weaklyContractive_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.expansive|const"><span>-EXPN</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.contractive|const"><span>-CNTR</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.weaklyExpansive|const"><span>-wEXPN</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.weaklyContractive|const"><span>-wCNTR</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Type-lifting - General Case: Environment (aka. Reader) Monad›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We can conceive of functional types of the form </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>'a ⇒ 'b›</span></span></span><span> as arising via an "environmentalization", 
 or "indexation" of the type </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>'b›</span></span></span><span> by the type </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>'a›</span></span></span><span>, i.e. as </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>'a-Env('b)›</span></span></span><span> using our type notation. 
 This type constructor comes with a monad structure (and is thus an applicative and a functor too).›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.unit_env|const"><span>unit_env</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>unit_env</span></span><span>  </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.K21_comb|const"><span><span class="hidden">❙</span><b>K</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.fmap_env|const"><span>fmap_env</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>fmap_env</span></span><span>  </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">❙</span><b>B</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.join_env|const"><span>join_env</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>join_env</span></span><span>  </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">❙</span><b>W</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.ap_env|const"><span>ap_env</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ap_env</span></span><span>    </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.S11_comb|const"><span><span class="hidden">❙</span><b>S</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.rbind_env|const"><span>rbind_env</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rbind_env</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Sigma&gt;11_comb|const"><span><span class="hidden">❙</span><b>Σ</b></span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹reversed-bind›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We define the customary bind operation as "flipped" rbind (which seems more intuitive).›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.bind_env|const"><span>bind_env</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bind_env</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.rbind_env|const"><span class="const"><span>rbind_env</span></span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹But we could have also given it a direct alternative definition.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.bind_env|const"><span class="const"><span>bind_env</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">❙</span><b>W</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">❙</span><b>B</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Some properties of monads in general›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.rbind_env|const"><span class="const"><span>rbind_env</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.join_env|const"><span class="const"><span>join_env</span></span></a><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.fmap_env|const"><span class="const"><span>fmap_env</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.join_env|const"><span class="const"><span>join_env</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.rbind_env|const"><span class="const"><span>rbind_env</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="comment1"><span>― ‹...and so on›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Some properties of this particular monad›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.ap_env|const"><span class="const"><span>ap_env</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.rbind_env|const"><span class="const"><span>rbind_env</span></span></a><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="comment1"><span>― ‹...and so on›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The so-called "monad laws". They guarantee that monad-related term operations compose reliably.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="func_sets.monadLaw1|const"><span>monadLaw1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>unit</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bind</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>bind</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>unit</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹left identity›</span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="func_sets.monadLaw2|const"><span>monadLaw2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>unit</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bind</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>bind</span></span></span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>unit</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>A</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹right identity›</span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="func_sets.monadLaw3|const"><span>monadLaw3</span></span></span><span>  </span><span class="free"><span class="bound"><span class="entity"><span>bind</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>bind</span></span></span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bind</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>bind</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>bind</span></span></span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>g</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹associativity›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Verifies compliance with the monad laws.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw1|const"><span class="const"><span>monadLaw1</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.unit_env|const"><span class="const"><span>unit_env</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.bind_env|const"><span class="const"><span>bind_env</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw2|const"><span class="const"><span>monadLaw2</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.unit_env|const"><span class="const"><span>unit_env</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.bind_env|const"><span class="const"><span>bind_env</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw3|const"><span class="const"><span>monadLaw3</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.bind_env|const"><span class="const"><span>bind_env</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Type-lifting - Digression: On Higher Arities›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Note that </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>m</sub><span class="hidden">⇩</span><sub>n</sub>›</span></span></span><span> combinators can be used to index (or "environmentalize") a given m-ary function n-times.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;01_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>0</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;11_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;12_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'e<span class="hidden">⇩</span><sub>2</sub></span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'e<span class="hidden">⇩</span><sub>1</sub></span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e<span class="hidden">⇩</span><sub>2</sub></span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'e<span class="hidden">⇩</span><sub>1</sub></span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
</span><span class="comment1"><span>― ‹...and so on›</span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;22_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'e<span class="hidden">⇩</span><sub>2</sub></span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'e<span class="hidden">⇩</span><sub>1</sub></span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e<span class="hidden">⇩</span><sub>2</sub></span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'e<span class="hidden">⇩</span><sub>1</sub></span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e<span class="hidden">⇩</span><sub>2</sub></span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'e<span class="hidden">⇩</span><sub>1</sub></span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
</span><span class="comment1"><span>― ‹...and so on›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Hence the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>m</sub><span class="hidden">⇩</span><sub>n</sub>›</span></span></span><span> combinators can play the role of (n-times iterated) functorial "lifters".›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="func_sets.html#func_sets.unit_env|const"><span class="const"><span>unit_env</span></span></a><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;01_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>0</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="func_sets.html#func_sets.fmap_env|const"><span class="const"><span>fmap_env</span></span></a><span class="main"><span>::</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;11_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.fmap2_env|const"><span>fmap2_env</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>fmap2_env</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹cf. Haskell's </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>liftA2›</span></span></span><span>›</span></span><span>
</span><span class="comment1"><span>― ‹...and so on›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹In the same spirit, we can employ the combinator families </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span><span class="hidden">❙</span><b>S</b><span class="hidden">⇩</span><sub>m</sub><span class="hidden">⇩</span><sub>n</sub>›</span></span></span><span> resp. </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span><span class="hidden">❙</span><b>Σ</b><span class="hidden">⇩</span><sub>m</sub><span class="hidden">⇩</span><sub>n</sub>›</span></span></span><span> as (n-times iterated) 
 m-ary applicative resp. monadic "lifters".›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.ap2_env|const"><span>ap2_env</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ap2_env</span></span><span>    </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.S21_comb|const"><span><span class="hidden">❙</span><b>S</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.rbind2_env|const"><span>rbind2_env</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rbind2_env</span></span><span>  </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Sigma&gt;21_comb|const"><span><span class="hidden">❙</span><b>Σ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span>"</span></span></span><span>
</span><span class="comment1"><span>― ‹...and so on›</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Type-lifting - Base Case: Identity Monad›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Finally, we consider the (degenerate) base case arising from an identity type constructor›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.unit_id|const"><span>unit_id</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>unit_id</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.fmap_id|const"><span>fmap_id</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>fmap_id</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">❙</span><b>A</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.fmap2_id|const"><span>fmap2_id</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>fmap2_id</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A2_comb|const"><span><span class="hidden">❙</span><b>A</b><span class="hidden">⇩</span><sub>2</sub></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.join_id|const"><span>join_id</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>join_id</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.ap_id|const"><span>ap_id</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ap_id</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">❙</span><b>A</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.rbind_id|const"><span>rbind_id</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rbind_id</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.A1_comb|const"><span><span class="hidden">❙</span><b>A</b></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.bind_id|const"><span>bind_id</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bind_id</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.T1_comb|const"><span><span class="hidden">❙</span><b>T</b></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw1|const"><span class="const"><span>monadLaw1</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.unit_id|const"><span class="const"><span>unit_id</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.bind_id|const"><span class="const"><span>bind_id</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw2|const"><span class="const"><span>monadLaw2</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.unit_id|const"><span class="const"><span>unit_id</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.bind_id|const"><span class="const"><span>bind_id</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.monadLaw3|const"><span class="const"><span>monadLaw3</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.bind_id|const"><span class="const"><span>bind_id</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Type-lifting - Relations›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Relations can be seen (and thus type-lifted) from two equivalent perspectives: 
 </span><span class="antiquoted"><span>▸</span></span><span> As unary functions (with set codomain), or equivalently, as indexed families of sets.
 </span><span class="antiquoted"><span>▸</span></span><span> As binary functions (with a boolean codomain).›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>o</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Note that when "lifting" relations as binary functions (via </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub>›</span></span></span><span>) what we obtain is not quite a relation.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'e</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'e</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We introduce two convenient ways to lift a given relation to obtain its "indexed" counterpart.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.relLiftEx_def|fact"><span class="entity_def" id="func_sets.relLiftEx_def|thm"><span class="entity_def" id="func_sets.relLiftEx_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.relLiftEx|const"><span>relLiftEx</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>∃</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>  </span><span class="comment1"><span>― ‹existential lifting›</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>∃</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B3_comb|const"><span>∘<span class="hidden">⇩</span><sub>3</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.relLiftAll_def|fact"><span class="entity_def" id="func_sets.relLiftAll_def|thm"><span class="entity_def" id="func_sets.relLiftAll_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.relLiftAll|const"><span>relLiftAll</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'c</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>∀</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>― ‹universal lifting›</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>∀</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B3_comb|const"><span>∘<span class="hidden">⇩</span><sub>3</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.relLiftEx_def|fact"><span>relLiftEx_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.relLiftAll_def|fact"><span>relLiftAll_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Basic Set Notions›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Set-Operations›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Note that sets of As can be faithfully encoded as A-indexed booleans (aka. "characteristic functions").›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>-Env(</span></a></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>o</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Env|type"><span>)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Thus the usual set operations arise via "indexation" of HOL's boolean connectives (via </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>m</sub><span class="hidden">⇩</span><sub>1</sub>›</span></span></span><span> combinators). 
 This explains, among others, why sets come with a Boolean algebra structure (cf. Stone representation).›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.universe_def|fact"><span class="entity_def" id="func_sets.universe_def|thm"><span class="entity_def" id="func_sets.universe_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.universe|const"><span>universe</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>𝔘</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>𝔘</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;01_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>0</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>𝒯</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹the universal set: the nullary connective/constant </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>𝒯›</span></span></span><span> lifted once›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.emptyset_def|fact"><span class="entity_def" id="func_sets.emptyset_def|thm"><span class="entity_def" id="func_sets.emptyset_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.emptyset|const"><span>emptyset</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>∅</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∅</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;01_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>0</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>ℱ</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹the empty set: the nullary connective/constant </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>ℱ›</span></span></span><span> lifted once›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.compl_def|fact"><span class="entity_def" id="func_sets.compl_def|thm"><span class="entity_def" id="func_sets.compl_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.compl|const"><span>compl</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>─</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>─</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;11_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹set complement: the unary </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>¬›</span></span></span><span> connective lifted once›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.inter_def|fact"><span class="entity_def" id="func_sets.inter_def|thm"><span class="entity_def" id="func_sets.inter_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.inter|const"><span>inter</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>∩</span></span><span>"</span></span><span> 54</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(∩)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(∧)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹set intersection: the binary </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>∧›</span></span></span><span> connective lifted once›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.union_def|fact"><span class="entity_def" id="func_sets.union_def|thm"><span class="entity_def" id="func_sets.union_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.union|const"><span>union</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>∪</span></span><span>"</span></span><span> 53</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(∪)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>(∨)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹set union›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.diff_def|fact"><span class="entity_def" id="func_sets.diff_def|thm"><span class="entity_def" id="func_sets.diff_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.diff|const"><span>diff</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>∖</span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(∖)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.excludes|const"><span>(↽)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹set difference›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.impl_def|fact"><span class="entity_def" id="func_sets.impl_def|thm"><span class="entity_def" id="func_sets.impl_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.impl|const"><span>impl</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⇒</span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(⇒)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>(→)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹set implication›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.dimpl_def|fact"><span class="entity_def" id="func_sets.dimpl_def|thm"><span class="entity_def" id="func_sets.dimpl_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.dimpl|const"><span>dimpl</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⇔</span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(⇔)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>(↔)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹set double-implication›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.sdiff_def|fact"><span class="entity_def" id="func_sets.sdiff_def|thm"><span class="entity_def" id="func_sets.sdiff_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.sdiff|const"><span>sdiff</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>△</span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(△)</span></span><span> </span><span class="main"><span>≡</span></span><span>  </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.xor|const"><span>(⇌)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹set symmetric-difference (aka. xor)›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Reversed implication as convenient syntactic sugar.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.lpmi|const"><span>lpmi</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⇐</span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>⇐</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.impl|const"><span>⇒</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.universe_def|fact"><span>universe_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.emptyset_def|fact"><span>emptyset_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> 
        </span><a class="entity_ref" href="func_sets.html#func_sets.compl_def|fact"><span>compl_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inter_def|fact"><span>inter_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.union_def|fact"><span>union_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>
        </span><a class="entity_ref" href="func_sets.html#func_sets.impl_def|fact"><span>impl_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.dimpl_def|fact"><span>dimpl_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.diff_def|fact"><span>diff_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.sdiff_def|fact"><span>sdiff_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Double-check point-based definitions.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.universe|const"><span>𝔘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>𝒯</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.emptyset|const"><span>∅</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>ℱ</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.diff|const"><span>∖</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.excludes|const"><span>↽</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.impl|const"><span>⇒</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.lpmi|const"><span>⇐</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.seilpmi|const"><span>←</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.dimpl|const"><span>⇔</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>↔</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.sdiff|const"><span>△</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.xor|const"><span>⇌</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Double-check some well known properties.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.compl_involutive|fact"><span class="entity_def" id="func_sets.compl_involutive|thm"><span>compl_involutive</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.compl_deMorgan1|fact"><span class="entity_def" id="func_sets.compl_deMorgan1|thm"><span>compl_deMorgan1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.compl_deMorgan2|fact"><span class="entity_def" id="func_sets.compl_deMorgan2|thm"><span>compl_deMorgan2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.compl_fixedpoint|fact"><span class="entity_def" id="func_sets.compl_fixedpoint|thm"><span>compl_fixedpoint</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.nonFixedPoint|const"><span>nFP</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.nonFixedPoint|const"><span>nFP</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Dual-composition of Unary Set-Operations›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Clearly, functional composition can be seamlessly applied to set-operations too.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>F</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>G</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>G</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Moreover, we can conveniently introduce a dual for the (functional) composition of set-operations.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.compDual_def|fact"><span class="entity_def" id="func_sets.compDual_def|thm"><span class="entity_def" id="func_sets.compDual_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.compDual|const"><span>compDual</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>∙</span></span><span>"</span></span><span> 55</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(∙)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.compDual_t|const"><span>compDual_t</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>:</span></span><span>"</span></span><span> 55</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compDual|const"><span>∙</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.compDual_def|fact"><span>compDual_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.compDuality1|fact"><span class="entity_def" id="func_sets.compDuality1|thm"><span>compDuality1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compDual|const"><span>∙</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.compDuality2|fact"><span class="entity_def" id="func_sets.compDuality2|thm"><span>compDuality2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compDual|const"><span>∙</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.compDuality3|fact"><span class="entity_def" id="func_sets.compDuality3|thm"><span>compDuality3</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compDual|const"><span>∙</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Set Orderings›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹In the previous section we applied a kind of "functional lifting" to the boolean HOL operations in
 order to encode the corresponding operations on sets. Here we encode sets' (lattice) order structure
 via a "relational lifting" of the ordering of HOL's truth-values.›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We start by noting that HOL's binary boolean operations can also be seen as (endo)relations.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(∧)</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>o</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>(∨)</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>o</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>(→)</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>o</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹the customary ordering on truth-values (where </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>ℱ → 𝒯›</span></span></span><span>)›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The algebra of sets is thus naturally ordered via the subset endorelation (via 'relational lifting').›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.subset_def|fact"><span class="entity_def" id="func_sets.subset_def|thm"><span class="entity_def" id="func_sets.subset_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.subset|const"><span>subset</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⊆</span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(⊆)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftAll|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>∀</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>(→)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.subset_def|fact"><span>subset_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.impl|const"><span>⇒</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.subset_setdef|fact"><span class="entity_def" id="func_sets.subset_setdef|thm"><span>subset_setdef</span></span></span><span class="main"><span>:</span></span><span>   </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>(⊆)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.impl|const"><span>(⇒)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.superset|const"><span>superset</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⊇</span></span><span>"</span></span><span> 51</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span> </span><span class="main"><span>⊇</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>B</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The powerset operation corresponds in fact to (partial application of) superset relation.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.powerset|const"><span>powerset</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>℘</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>℘</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.superset|const"><span>(⊇)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.powerset|const"><span>℘</span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>B</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Alternative characterizations of the sub/super-set orderings in terms of fixed-points.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.subset_defFP|fact"><span class="entity_def" id="func_sets.subset_defFP|thm"><span>subset_defFP</span></span></span><span class="main"><span>:</span></span><span>   </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>(⊆)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>(∪)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.superset_defFP|fact"><span class="entity_def" id="func_sets.superset_defFP|thm"><span>superset_defFP</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.superset|const"><span>(⊇)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>(∩)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.superset|const"><span>⊇</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Subset is antisymmetric.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.subset_antisym|fact"><span class="entity_def" id="func_sets.subset_antisym|thm"><span>subset_antisym</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.superset|const"><span>⊇</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹In the same spirit, we conveniently provide the following related endorelations:›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Two sets are said to "overlap" (or "intersect") if their intersection is non-empty.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.overlap_def|fact"><span class="entity_def" id="func_sets.overlap_def|thm"><span class="entity_def" id="func_sets.overlap_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.overlap|const"><span>overlap</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⊓</span></span><span>"</span></span><span> 52</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(⊓)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftEx|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>∃</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(∧)</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹dually, two sets form a "cover" if every element belongs to one or the other.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.cover_def|fact"><span class="entity_def" id="func_sets.cover_def|thm"><span class="entity_def" id="func_sets.cover_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.cover|const"><span>cover</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⊔</span></span><span>"</span></span><span> 53</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(⊔)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.relLiftAll|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>∀</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>(∨)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.overlap_def|fact"><span>overlap_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.cover_def|fact"><span>cover_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Convenient notation: Two sets are said to be "incompatible" if they don't overlap.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.incompat|const"><span>incompat</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⊥</span></span><span>"</span></span><span> 52</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(⊥)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(⊓)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.cover_setdef|fact"><span class="entity_def" id="func_sets.cover_setdef|thm"><span>cover_setdef</span></span></span><span class="main"><span>:</span></span><span>   </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.cover|const"><span>(⊔)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>(∪)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.overlap_setdef|fact"><span class="entity_def" id="func_sets.overlap_setdef|thm"><span>overlap_setdef</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(⊓)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>(∩)</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.cover|const"><span>⊔</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>⊓</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.incompat|const"><span>⊥</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Empty|const"><span>∄</span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Subset, overlap and cover are interrelated as expected.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.cover|const"><span>⊔</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.incompat|const"><span>⊥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>⊓</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>⊓</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.cover|const"><span>⊔</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>⊓</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.incompat|const"><span>⊥</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Constructing Sets›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.insert|const"><span>insert</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>insert</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.remove|const"><span>remove</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>remove</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>𝒟</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The previous functions in terms of combinators.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.insert|const"><span class="const"><span>insert</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B10_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>0</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>(∪)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.remove|const"><span class="const"><span>remove</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B10_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>0</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>(∩)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>𝒟</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span>
  </span><span class="quoted"><span>"_finiteSet"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tconst"><span>args</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>   </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>{</span></span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword3"><span>)</span></span><span class="keyword1"><span>}</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="quoted"><span>"_finiteCoset"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tconst"><span>args</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⦃</span></span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword3"><span>)</span></span><span class="keyword1"><span>⦄</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>translations</span></span></span><span>
  </span><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>}</span></span><span>"</span></span><span> </span><span class="main"><span>⇌</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.insert|const"><span class="const"><span>insert</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span>_finiteSet </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>⦄</span></span><span>"</span></span><span> </span><span class="main"><span>⇌</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>CONST</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.remove|const"><span class="const"><span>remove</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span>_finiteCoset </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span><span>
  </span><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span><span> </span><span class="main"><span>⇀</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span><span>  </span><span class="comment1"><span>― ‹aka. "singleton"›</span></span><span>
  </span><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="free"><span>x</span></span><span class="main"><span>⦄</span></span><span>"</span></span><span> </span><span class="main"><span>⇀</span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>𝒟</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span><span>  </span><span class="comment1"><span>― ‹aka. "cosingleton")›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Some syntax checks.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>𝒟</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>b</span></span><span class="main"><span>⦄</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span class="free"><span>c</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span class="free"><span>c</span></span><span class="main"><span>⦄</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span class="free"><span>c</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>b</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>c</span></span><span class="main"><span>⦄</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span class="free"><span>e</span></span><span class="main"><span>}</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>⦃</span></span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>∩</span></a></span><span> </span><span class="main"><span>⦃</span></span><span class="main"><span>{</span></span><span class="free"><span>d</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>e</span></span><span class="main"><span>}</span></span><span class="main"><span>⦄</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Sets and cosets are related via set-complement as expected.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span class="free"><span>c</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.compl|const"><span>─</span></a></span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span class="free"><span>c</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹HOL quantifiers can be seen as sets of sets (or equivalently as "properties" of sets).›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="main"><span>::</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>∀A›</span></span></span><span> means that the set A contains all elements›</span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="main"><span>::</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>∃A›</span></span></span><span> means that A contains at least one element, i.e. A is nonempty›</span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Empty|const"><span>∄</span></a></span><span class="main"><span>::</span></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>∃A›</span></span></span><span> means that A is empty›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We conveniently add a couple more.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.unique_def|fact"><span class="entity_def" id="func_sets.unique_def|thm"><span class="entity_def" id="func_sets.unique_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.unique|const"><span>unique</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>unique</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>y</span></span><span>›</span></span></span><span> </span><span class="comment1"><span>― ‹A contains at most one element (it may be empty)›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.singleton_def|fact"><span class="entity_def" id="func_sets.singleton_def|thm"><span class="entity_def" id="func_sets.singleton_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.singleton|const"><span>singleton</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>∃!</span></span><span>"</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>∃!</span></span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>  </span><span class="comment1"><span>― ‹A contains exactly one element›</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.unique_def|fact"><span>unique_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.singleton_def|fact"><span>singleton_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Infinitary Set-Operations›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Union and intersection can be generalized to operate on arbitrary sets of sets (aka. "infinitary" operations).›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.biginter_def|fact"><span class="entity_def" id="func_sets.biginter_def|thm"><span class="entity_def" id="func_sets.biginter_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.biginter|const"><span>biginter</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOpG|type"><span>EOp<span class="hidden">⇩</span><sub>G</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOpG|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⋂</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋂</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.impl|const"><span>(⇒)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.T1_comb|const"><span><span class="hidden">❙</span><b>T</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.bigunion_def|fact"><span class="entity_def" id="func_sets.bigunion_def|thm"><span class="entity_def" id="func_sets.bigunion_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.bigunion|const"><span>bigunion</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOpG|type"><span>EOp<span class="hidden">⇩</span><sub>G</sub>(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOpG|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⋃</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋃</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inter|const"><span>(∩)</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.T1_comb|const"><span><span class="hidden">❙</span><b>T</b></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>⋂</span></a></span><span class="free"><span>S</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.biginter_def|fact"><span>biginter_def</span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>⋃</span></a></span><span class="free"><span>S</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.bigunion_def|fact"><span>bigunion_def</span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.biginter_def|fact"><span>biginter_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.bigunion_def|fact"><span>bigunion_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We say of a set of sets that it "overlaps" (or "intersects") if there exists a shared element.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.bigoverlap|const"><span>bigoverlap</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⨅</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⨅</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>⋂</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Dually, a set of sets forms a "cover" if every element is contained in at least one of the sets.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.bigcover|const"><span>bigcover</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⨆</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⨆</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>⋃</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigoverlap|const"><span>⨅</span></a></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>⋂</span></a></span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigcover|const"><span>⨆</span></a></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.bigunion|const"><span>⋃</span></a></span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Function Transformations›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Inverse and Range›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The inverse of a function </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> is the relation that assigns to each object </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>b›</span></span></span><span> in its codomain 
 the set of elements in its domain mapped to </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>b›</span></span></span><span> (i.e. the preimage of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>b›</span></span></span><span> under </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span>).›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.inverse_def|fact"><span class="entity_def" id="func_sets.inverse_def|thm"><span class="entity_def" id="func_sets.inverse_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.inverse|const"><span>inverse</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inverse</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B10_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>0</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse_def|fact"><span>inverse_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse_def|fact"><span>inverse_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹An alternative combinator-based definition (by commutativity of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>𝒬›</span></span></span><span>).›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.inverse_def2|fact"><span class="entity_def" id="func_sets.inverse_def2|thm"><span>inverse_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B01_comb|const"><span><span class="hidden">❙</span><b>D</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We introduce some convenient superscript notation.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>¯</span></span><span>"</span></span><span class="main"><span>)</span></span><span>  </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>'(</span></span><span>_</span><span class="keyword1"><span>')¯</span></span><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The related notion of inverse-function of a (bijective) function can be written as:›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.The|const"><span>ι</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>::</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹Beware: well-behaved for bijective functions only!›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Given a function </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> we can obtain its range as the set of those objects </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>b›</span></span></span><span> in the codomain that 
 are the image of some object </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>a›</span></span></span><span> (i.e. have a non-empty preimage) under the function </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span>.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.range_def|fact"><span class="entity_def" id="func_sets.range_def|thm"><span class="entity_def" id="func_sets.range_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.range|const"><span>range</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>range</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.range_def|fact"><span>range_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.range|const"><span class="const"><span>range</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>¯</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.range|const"><span class="const"><span>range</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹More generally, the inverse of an n-ary function </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> is the n+1-ary relation that relates to each 
 object </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>c›</span></span></span><span> in f's codomain those ("curried" tuples of) elements in the domain are become mapped to </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>c›</span></span></span><span>
 under </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> (i.e. the "preimage" of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>c›</span></span></span><span> under </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span>). We use this to define the range of an n-ary function too.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.inverse2_def|fact"><span class="entity_def" id="func_sets.inverse2_def|thm"><span class="entity_def" id="func_sets.inverse2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.inverse2|const"><span>inverse2</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span>  </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel3|type"><span>Rel<span class="hidden">⇩</span><sub>3</sub>(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel3|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel3|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel3|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>inverse<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>inverse<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>0</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.inverse3_def|fact"><span class="entity_def" id="func_sets.inverse3_def|thm"><span class="entity_def" id="func_sets.inverse3_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.inverse3|const"><span>inverse3</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'d</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span>  </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel4|type"><span>Rel<span class="hidden">⇩</span><sub>4</sub>(</span></a></span><span class="tfree"><span>'d</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel4|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel4|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel4|type"><span>,</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel4|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>inverse<span class="hidden">⇩</span><sub>3</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>inverse<span class="hidden">⇩</span><sub>3</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B30_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>3</sub><span class="hidden">⇩</span><sub>0</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span>"</span></span></span><span>
</span><span class="comment1"><span>― ‹... </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>inverse<span class="hidden">⇩</span><sub>n</sub> ≡ <span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>0</sub> 𝒬›</span></span></span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.range2_def|fact"><span class="entity_def" id="func_sets.range2_def|thm"><span class="entity_def" id="func_sets.range2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.range2|const"><span>range2</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'c</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>range<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>range<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.Ex2|const"><span>∃<span class="hidden">⇧</span><sup>2</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.inverse2|const"><span>inverse<span class="hidden">⇩</span><sub>2</sub></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.range3_def|fact"><span class="entity_def" id="func_sets.range3_def|thm"><span class="entity_def" id="func_sets.range3_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.range3|const"><span>range3</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'d</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'d</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>range<span class="hidden">⇩</span><sub>3</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>range<span class="hidden">⇩</span><sub>3</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="connectives.html#connectives.Ex3|const"><span>∃<span class="hidden">⇧</span><sup>3</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.inverse3|const"><span>inverse<span class="hidden">⇩</span><sub>3</sub></span></a></span><span>"</span></span></span><span>
</span><span class="comment1"><span>― ‹... </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>range<span class="hidden">⇩</span><sub>n</sub> ≡ ∃<span class="hidden">⇧</span><sup>n</sup> ∘<span class="hidden">⇩</span><sub>2</sub> inverse<span class="hidden">⇩</span><sub>n</sub>›</span></span></span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse2_def|fact"><span>inverse2_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse3_def|fact"><span>inverse3_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.range2_def|fact"><span>range2_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.range3_def|fact"><span>range3_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.inverse2|const"><span>inverse<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.inverse3|const"><span>inverse<span class="hidden">⇩</span><sub>3</sub></span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>d</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="comment1"><span>― ‹...</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>inverse<span class="hidden">⇩</span><sub>n</sub> f x = (λa<span class="hidden">⇩</span><sub>1</sub> ...a<span class="hidden">⇩</span><sub>n</sub>. f a<span class="hidden">⇩</span><sub>1</sub> ... a<span class="hidden">⇩</span><sub>n</sub> = x)›</span></span></span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.range2|const"><span>range<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.range3|const"><span>range<span class="hidden">⇩</span><sub>3</sub></span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>d</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>d</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="comment1"><span>― ‹...</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>range<span class="hidden">⇩</span><sub>n</sub> f x = (∃a<span class="hidden">⇩</span><sub>1</sub> ...a<span class="hidden">⇩</span><sub>n</sub>. f a<span class="hidden">⇩</span><sub>1</sub> ... a<span class="hidden">⇩</span><sub>n</sub> = x)›</span></span></span><span>›</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Kernel of a Function›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The "kernel" of a function relates those elements in its domain that get assigned the same value.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.kernel_def|fact"><span class="entity_def" id="func_sets.kernel_def|thm"><span class="entity_def" id="func_sets.kernel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.kernel|const"><span>kernel</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>kernel</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Psi&gt;2_comb|const"><span><span class="hidden">❙</span><b>Ψ</b><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.kernel|const"><span class="const"><span>kernel</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.kernel_def|fact"><span>kernel_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.kernel_def|fact"><span>kernel_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We add convenient superscript notation.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.kernel|const"><span class="const"><span>kernel</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span><span class="hidden">⇧</span><sup>=</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span>  </span><span class="keyword1"><span class="command"><span>notation</span></span></span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.kernel|const"><span class="const"><span>kernel</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>'(</span></span><span>_</span><span class="keyword1"><span>')<span class="hidden">⇧</span><sup>=</sup></span></span><span>"</span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Pullback and Equalizer of a Pair of Functions›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The pullback (aka. fiber product) of two functions </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>g›</span></span></span><span> (sharing the same codomain), 
 relates those pairs of elements that get assigned the same value by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>g›</span></span></span><span> respectively.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.pullback_def|fact"><span class="entity_def" id="func_sets.pullback_def|thm"><span class="entity_def" id="func_sets.pullback_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.pullback|const"><span>pullback</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>pullback</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback_def|fact"><span>pullback_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback_def|fact"><span>pullback_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Pullback can be said to be "symmetric" in the following sense.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.pullback_symm|fact"><span class="entity_def" id="func_sets.pullback_symm|thm"><span>pullback_symm</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C2143_comb|const"><span><span class="hidden">❙</span><b>C</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>4</sub><span class="hidden">⇩</span><sub>3</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.pullback_symm&apos;|fact"><span class="entity_def" id="func_sets.pullback_symm&apos;|thm"><span>pullback_symm'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback_symm|fact"><span>pullback_symm</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback_symm|fact"><span>pullback_symm</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Inverse and kernel of a function can be easily stated in terms of pullback.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.kernel|const"><span class="const"><span>kernel</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">❙</span><b>W</b></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The equalizer of two functions </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>g›</span></span></span><span> (sharing the same domain and codomain) is the set of 
 elements in their (common) domain that get assigned the same value by both </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>g›</span></span></span><span>.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.equalizer_def|fact"><span class="entity_def" id="func_sets.equalizer_def|thm"><span class="entity_def" id="func_sets.equalizer_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.equalizer|const"><span>equalizer</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>equalizer</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.equalizer|const"><span class="const"><span>equalizer</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.equalizer_def|fact"><span>equalizer_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.equalizer_def|fact"><span>equalizer_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹In fact, the equalizer of two functions can be stated in terms of pullback.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.equalizer|const"><span class="const"><span>equalizer</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">❙</span><b>W</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Note that we can swap the roles of "points" and "functions" in the above definitions using permutators.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C231_comb|const"><span><span class="hidden">❙</span><b>R</b></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.equalizer|const"><span class="const"><span>equalizer</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C3412_comb|const"><span><span class="hidden">❙</span><b>C</b><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pullback|const"><span class="const"><span>pullback</span></span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Pushout and Coequalizer of a Pair of Functions›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The pushout (aka. fiber coproduct) of two functions </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>g›</span></span></span><span> (sharing the same domain), relates
 pairs of elements (in their codomains) whose preimages under </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> resp. </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>g›</span></span></span><span> intersect.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.pushout_def|fact"><span class="entity_def" id="func_sets.pushout_def|thm"><span class="entity_def" id="func_sets.pushout_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.pushout|const"><span>pushout</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>Rel(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Rel|type"><span>)</span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>pushout</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B22_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(⊓)</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span>"</span></span></span><span> </span><span class="comment1"><span>(*beware polymorphism: 'inverse' appears twice with different types*)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>¯</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>⊓</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>¯</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pushout_def|fact"><span>pushout_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pushout_def|fact"><span>pushout_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Pushout can be said to be "symmetric" in the following sense.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.pushout_symm|fact"><span class="entity_def" id="func_sets.pushout_symm|thm"><span>pushout_symm</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C2143_comb|const"><span><span class="hidden">❙</span><b>C</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>4</sub><span class="hidden">⇩</span><sub>3</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.pushout_symm&apos;|fact"><span class="entity_def" id="func_sets.pushout_symm&apos;|thm"><span>pushout_symm'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pushout_symm|fact"><span>pushout_symm</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pushout_symm|fact"><span>pushout_symm</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The equations below don't work as definitions since they unduly restrict types ("inverse" appears only once).›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">❙</span><b>W</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B22_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(⊓)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Psi&gt;2_comb|const"><span><span class="hidden">❙</span><b>Ψ</b><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(⊓)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The coequalizer of two functions </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>g›</span></span></span><span> (sharing the same domain and codomain) is the set of 
 elements in their (common) codomain whose preimage under </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> resp. </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>g›</span></span></span><span> intersect.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.coequalizer_def|fact"><span class="entity_def" id="func_sets.coequalizer_def|thm"><span class="entity_def" id="func_sets.coequalizer_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.coequalizer|const"><span>coequalizer</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>coequalizer</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">❙</span><b>W</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Psi&gt;2_comb|const"><span><span class="hidden">❙</span><b>Ψ</b><span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B11_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(⊓)</span></a></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.coequalizer|const"><span class="const"><span>coequalizer</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb|const"><span><span class="hidden">❙</span><b>Φ</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(⊓)</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.coequalizer_def|fact"><span>coequalizer_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.coequalizer|const"><span class="const"><span>coequalizer</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>⊓</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.coequalizer_def|fact"><span>coequalizer_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.coequalizer_def|fact"><span>coequalizer_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The coequalizer of two functions can be stated in terms of pushout.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.coequalizer|const"><span class="const"><span>coequalizer</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.W21_comb|const"><span><span class="hidden">❙</span><b>W</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B2_comb|const"><span>∘<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.pushout|const"><span class="const"><span>pushout</span></span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Image and Preimage›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We can "lift" functions to act on sets via the image operator. The term </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>image f›</span></span></span><span> denotes a
 set-operation that takes a set </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>A›</span></span></span><span> and returns the set of elements whose </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span>-preimage intersects </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>A›</span></span></span><span>.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.image_def|fact"><span class="entity_def" id="func_sets.image_def|thm"><span class="entity_def" id="func_sets.image_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.image|const"><span>image</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>image</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B20_comb|const"><span><span class="hidden">❙</span><b>B</b><span class="hidden">⇩</span><sub>2</sub><span class="hidden">⇩</span><sub>0</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>(⊓)</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span class="const"><span>inverse</span></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>¯</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>⊓</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image_def|fact"><span>image_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>¯</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image_def|fact"><span>image_def</span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Analogously, the term </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>preimage f›</span></span></span><span> denotes a set-operation that takes a set </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>B›</span></span></span><span> and returns the 
  set of those elements which </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>f›</span></span></span><span> maps to some element in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>B›</span></span></span><span>.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.preimage_def|fact"><span class="entity_def" id="func_sets.preimage_def|thm"><span class="entity_def" id="func_sets.preimage_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.preimage|const"><span>preimage</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>SetOp(</span></a></span><span class="tfree"><span>'b</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>,</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetOp|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>preimage</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">❙</span><b>B</b></span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹i.e. (;)›</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb_t&apos;|const"><span>;</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage_def|fact"><span>preimage_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage_def|fact"><span>preimage_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image_def|fact"><span>image_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage_def|fact"><span>preimage_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Introduce convenient notation.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⦇</span></span><span>_ _</span><span class="keyword1"><span>⦈</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⦇</span></span><span>_ _</span><span class="keyword1"><span>⦈¯</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⦇'(</span></span><span>_</span><span class="keyword1"><span>')</span></span><span> </span><span class="keyword1"><span>'(</span></span><span>_</span><span class="keyword1"><span>')⦈</span></span><span>"</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⦇'(</span></span><span>_</span><span class="keyword1"><span>')</span></span><span> </span><span class="keyword1"><span>'(</span></span><span>_</span><span class="keyword1"><span>')⦈¯</span></span><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>⦇</span></a></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span>⦈</span></a></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹read "the image of A under f"›</span></span><span>
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span>⦇</span></a></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span>⦈¯</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  </span><span class="comment1"><span>― ‹read "the image of A under f"›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Range can be defined in terms of image as expected.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.range_def2|fact"><span class="entity_def" id="func_sets.range_def2|thm"><span>range_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.range|const"><span class="const"><span>range</span></span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.C21_comb|const"><span><span class="hidden">❙</span><b>C</b></span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.universe|const"><span>𝔘</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>⇒</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>⇒</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>

</span><span class="comment1"><span>(* TODO: make definitions out of these? *)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>A</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.kernel|const"><span><span class="hidden">⇧</span><sup>=</sup></span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>⊓</span></a></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>B</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.inverse|const"><span>¯</span></a></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.overlap|const"><span>⊓</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Preservation/reversal of monoidal structure under set-operations.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.image_morph1|fact"><span class="entity_def" id="func_sets.image_morph1|thm"><span>image_morph1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="free"><span>g</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.image_morph2|fact"><span class="entity_def" id="func_sets.image_morph2|thm"><span>image_morph2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.preimage_morph1|fact"><span class="entity_def" id="func_sets.preimage_morph1|thm"><span>preimage_morph1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>(*note reversal*)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.preimage_morph2|fact"><span class="entity_def" id="func_sets.preimage_morph2|thm"><span>preimage_morph2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.preimage|const"><span class="const"><span>preimage</span></span></a><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Random-looking simplification(?) rule that becomes useful later on.›</span></span></span><span> </span><span class="comment1"><span>(*TODO: interpret*)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.image_simp1|fact"><span class="entity_def" id="func_sets.image_simp1|thm"><span>image_simp1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>G</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.T1_comb|const"><span><span class="hidden">❙</span><b>T</b></span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.T1_comb|const"><span><span class="hidden">❙</span><b>T</b></span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.image|const"><span class="const"><span>image</span></span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.S11_comb|const"><span><span class="hidden">❙</span><b>S</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>G</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Miscellaneous›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Function "update" or "override" at a point.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.update_def|fact"><span class="entity_def" id="func_sets.update_def|thm"><span class="entity_def" id="func_sets.update_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.update|const"><span>update</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>[</span></span><span>_</span><span class="keyword1"><span>↦</span></span><span>_</span><span class="keyword1"><span>]</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.update_def|fact"><span>update_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹A set S can be closed under a n-ary endooperation, a generalized endooperation, or a set endooperation.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.op1_closed_def|fact"><span class="entity_def" id="func_sets.op1_closed_def|thm"><span class="entity_def" id="func_sets.op1_closed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.op1_closed|const"><span>op1_closed</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-closed<span class="hidden">⇩</span><sub>1</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="keyword1"><span>-closed<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.op2_closed_def|fact"><span class="entity_def" id="func_sets.op2_closed_def|thm"><span class="entity_def" id="func_sets.op2_closed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.op2_closed|const"><span>op2_closed</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-closed<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="keyword1"><span>-closed<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.opG_closed_def|fact"><span class="entity_def" id="func_sets.opG_closed_def|thm"><span class="entity_def" id="func_sets.opG_closed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.opG_closed|const"><span>opG_closed</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOpG|type"><span>EOp<span class="hidden">⇩</span><sub>G</sub>(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOpG|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-closed<span class="hidden">⇩</span><sub>G</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span class="keyword1"><span>-closed<span class="hidden">⇩</span><sub>G</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.setop_closed_def|fact"><span class="entity_def" id="func_sets.setop_closed_def|thm"><span class="entity_def" id="func_sets.setop_closed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.setop_closed|const"><span>setop_closed</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetEOp|type"><span>SetEOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.SetEOp|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"_</span><span class="keyword1"><span>-closed<span class="hidden">⇩</span><sub>S</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span class="keyword1"><span>-closed<span class="hidden">⇩</span><sub>S</sub></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span> </span><span class="bound"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="bound"><span>S</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.op1_closed_def|fact"><span>op1_closed_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.op2_closed_def|fact"><span>op2_closed_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> 
        </span><a class="entity_ref" href="func_sets.html#func_sets.opG_closed_def|fact"><span>opG_closed_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.setop_closed_def|fact"><span>setop_closed_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Closure under n-ary endooperations can be reduced to closure under (n-1)-ary endooperations.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.op2_closed_def2|fact"><span class="entity_def" id="func_sets.op2_closed_def2|thm"><span>op2_closed_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>g</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.op2_closed|const"><span>-closed<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.op1_closed|const"><span>-closed<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.op2_closed|const"><span>-closed<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="comment1"><span>― ‹and so on ...›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The set of elements inductively generated by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>G›</span></span></span><span> by using a sequence of constructors, as indicated.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.inductiveSet1_def|fact"><span class="entity_def" id="func_sets.inductiveSet1_def|thm"><span class="entity_def" id="func_sets.inductiveSet1_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.inductiveSet1|const"><span>inductiveSet1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>indSet<span class="hidden">⇩</span><sub>1</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>indSet<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>⋂</span></a></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.op1_closed|const"><span>-closed<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹one unary constructor›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.inductiveSet2_def|fact"><span class="entity_def" id="func_sets.inductiveSet2_def|thm"><span class="entity_def" id="func_sets.inductiveSet2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.inductiveSet2|const"><span>inductiveSet2</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>indSet<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>indSet<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>⋂</span></a></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.op2_closed|const"><span>-closed<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹one binary constructor›</span></span><span>
</span><span class="comment1"><span>― ‹and so on ...›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.inductiveSet11_def|fact"><span class="entity_def" id="func_sets.inductiveSet11_def|thm"><span class="entity_def" id="func_sets.inductiveSet11_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.inductiveSet11|const"><span>inductiveSet11</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>indSet<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>1</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>indSet<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>⋂</span></a></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f<span class="hidden">⇩</span><sub>1</sub></span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.op1_closed|const"><span>-closed<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f<span class="hidden">⇩</span><sub>2</sub></span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.op1_closed|const"><span>-closed<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹two unary constructors›</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.inductiveSet12_def|fact"><span class="entity_def" id="func_sets.inductiveSet12_def|thm"><span class="entity_def" id="func_sets.inductiveSet12_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.inductiveSet12|const"><span>inductiveSet12</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>EOp<span class="hidden">⇩</span><sub>2</sub>(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp2|type"><span>)</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>Set(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.Set|type"><span>)</span></a></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>indSet<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>indSet<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span>   </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>⋂</span></a></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.subset|const"><span>⊆</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.op1_closed|const"><span>-closed<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.op2_closed|const"><span>-closed<span class="hidden">⇩</span><sub>2</sub></span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  </span><span class="comment1"><span>― ‹a unary and a binary constructor›</span></span><span>
</span><span class="comment1"><span>― ‹and so on ...›</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inductiveSet1_def|fact"><span>inductiveSet1_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inductiveSet2_def|fact"><span>inductiveSet2_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> 
        </span><a class="entity_ref" href="func_sets.html#func_sets.inductiveSet11_def|fact"><span>inductiveSet11_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.inductiveSet12_def|fact"><span>inductiveSet12_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹A convenient special case when the set of generators </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>G›</span></span></span><span> is a singleton </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>{g}›</span></span></span><span>.›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.inductiveSet1_singleton|fact"><span class="entity_def" id="func_sets.inductiveSet1_singleton|thm"><span>inductiveSet1_singleton</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.inductiveSet1|const"><span>indSet<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>g</span></span><span class="main"><span>}</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.biginter|const"><span>⋂</span></a></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.op1_closed|const"><span>-closed<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="comment1"><span>― ‹and so on ...›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The set of all powers (via iterated composition) for a given endofunction (including </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span><span class="hidden">❙</span><b>I</b>›</span></span></span><span>).›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="func_sets.funPower_def|fact"><span class="entity_def" id="func_sets.funPower_def|thm"><span class="entity_def" id="func_sets.funPower_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="func_sets.funPower|const"><span>funPower</span></span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>ERel(</span></a></span><span class="keyword1"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>EOp(</span></a></span><span class="tfree"><span>'a</span></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.EOp1|type"><span>)</span></a></span><span class="main"><a class="entity_ref" href="logic_bridge.html#logic_bridge.ERel|type"><span>)</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>funPower</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">❙</span><b>B</b></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.inductiveSet1|const"><span>indSet<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>𝒬</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span><span class="hidden">❙</span><b>B</b></span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.funPower_def|fact"><span>funPower_def</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|attribute"><span class="operator"><span>func_defs</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.funPower|const"><span class="const"><span>funPower</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.inductiveSet1|const"><span>indSet<span class="hidden">⇩</span><sub>1</sub></span></a></span><span> </span><span class="main"><span>{</span></span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>h</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.funPower_def2|fact"><span class="entity_def" id="func_sets.funPower_def2|thm"><span>funPower_def2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.funPower|const"><span class="const"><span>funPower</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>S</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>h</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="bound"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="bound"><span>h</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="bound"><span>S</span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Definition works as expected:›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.funPower|const"><span class="const"><span>funPower</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="combinators.html#combinators.I_comb|const"><span><span class="hidden">❙</span><b>I</b></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.funPower_def2|fact"><span>funPower_def2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.funPower|const"><span class="const"><span>funPower</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.funPower_def2|fact"><span>funPower_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.funPower|const"><span class="const"><span>funPower</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.funPower_def2|fact"><span>funPower_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.funPower|const"><span class="const"><span>funPower</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.funPower_def2|fact"><span>funPower_def2</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.comb_defs|fact"><span class="dynamic"><span class="dynamic"><span>comb_defs</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="func_sets.funPower_ind|fact"><span class="entity_def" id="func_sets.funPower_ind|thm"><span>funPower_ind</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="func_sets.html#func_sets.funPower|const"><span class="const"><span>funPower</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.funPower|const"><span class="const"><span>funPower</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="combinators.html#combinators.B1_comb|const"><span>∘</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="func_sets.html#func_sets.funPower_def2|fact"><span>funPower_def2</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(*Useful(?) property (cf. Bishop &amp; Andrews 1998)*)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>g</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.funPower|const"><span class="const"><span>funPower</span></span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="func_sets.html#func_sets.singleton|const"><span>∃!</span></a></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>→</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="func_sets.html#func_sets.fixedPoint|const"><span>FP</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>― ‹proof by external provers›</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.funPower_def2|fact"><span>funPower_def2</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="func_sets.html#func_sets.func_defs|fact"><span class="dynamic"><span class="dynamic"><span>func_defs</span></span></span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.\&lt;Phi&gt;21_comb_def|fact"><span>Φ21_comb_def</span></a><span> </span><a class="entity_ref" href="combinators.html#combinators.S11_comb_def|fact"><span>S11_comb_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span> </span><span class="comment1"><span>(*TODO: zipperpin can use "comm f ≡ λg. f ∘ g = g ∘ f" to find a proof*)</span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>